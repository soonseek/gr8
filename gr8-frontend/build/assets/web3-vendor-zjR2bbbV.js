import{r as bi,g as mi}from"./react-vendor-Bce9NwRC.js";function kf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Wr={exports:{}},cn={};var bo;function Mf(){if(bo)return cn;bo=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var a in s)a!=="key"&&(i[a]=s[a])}else i=s;return s=i.ref,{$$typeof:e,type:r,key:o,ref:s!==void 0?s:null,props:i}}return cn.Fragment=t,cn.jsx=n,cn.jsxs=n,cn}var mo;function Ff(){return mo||(mo=1,Wr.exports=Mf()),Wr.exports}var Nf=Ff(),D=bi();const _f=mi(D),Hy=kf({__proto__:null,default:_f},[D]),dr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],As=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],_a=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],ja=[..._a,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],jf=[..._a,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],yo=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],go=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],za=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],wo=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Gy=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function Ee(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Zf(e.type);return`${e.name}(${Ar(e.inputs,{includeName:t})})`}function Ar(e,{includeName:t=!1}={}){return e?e.map(n=>zf(n,{includeName:t})).join(t?", ":","):""}function zf(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Ar(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Pe(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function H(e){return Pe(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Ua="2.44.1";let Qr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Ua}`},C=class Is extends Error{constructor(t,n={}){const r=n.cause instanceof Is?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Is&&n.cause.docsPath||n.docsPath,i=Qr.getDocsUrl?.({...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Qr.version?[`Version: ${Qr.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Ua}walk(t){return La(this,t)}};function La(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?La(e.cause,t):t?null:e}class Uf extends C{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class vo extends C{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Da extends C{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Ar(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Fn extends C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Lf extends C{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Df extends C{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${H(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class qa extends C{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class qf extends C{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class xo extends C{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Ha extends C{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Hf extends C{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Gf extends C{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Eo extends C{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Vt extends C{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Ga extends C{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Vf extends C{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Wf extends C{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ee(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Ee(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Va=class extends C{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class lr extends C{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Ar(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class yi extends C{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ee(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Qf extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Kf extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Wa=class extends C{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Zf extends C{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Yf extends C{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let He=class extends C{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Qa=class extends C{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Ka=class extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Po extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Ue(e,{dir:t,size:n=32}={}){return typeof e=="string"?st(e,{dir:t,size:n}):Jf(e,{dir:t,size:n})}function st(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Ka({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Jf(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Ka({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}let Za=class extends C{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Xf=class extends C{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class e0 extends C{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let t0=class extends C{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Le(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function we(e,{size:t}){if(H(e)>t)throw new t0({givenSize:H(e),maxSize:t})}function ye(e,t={}){const{signed:n}=t;t.size&&we(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function n0(e,t={}){let n=e;if(t.size&&(we(n,{size:t.size}),n=Le(n)),Le(n)==="0x00")return!1;if(Le(n)==="0x01")return!0;throw new e0(n)}function Se(e,t={}){return Number(ye(e,t))}function eg(e,t={}){let n=ge(e);return t.size&&(we(n,{size:t.size}),n=Le(n,{dir:"right"})),new TextDecoder().decode(n)}const r0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ge(e,t={}){return typeof e=="number"||typeof e=="bigint"?N(e,t):typeof e=="string"?vt(e,t):typeof e=="boolean"?gi(e,t):W(e,t)}function gi(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(we(n,{size:t.size}),Ue(n,{size:t.size})):n}function W(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=r0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(we(r,{size:t.size}),Ue(r,{dir:"right",size:t.size})):r}function N(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new Za({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ue(a,{size:r}):a}const s0=new TextEncoder;function vt(e,t={}){const n=s0.encode(e);return W(n,t)}const i0=new TextEncoder;function Jt(e,t={}){return typeof e=="number"||typeof e=="bigint"?a0(e,t):typeof e=="boolean"?o0(e,t):Pe(e)?ge(e,t):yt(e,t)}function o0(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(we(n,{size:t.size}),Ue(n,{size:t.size})):n}const ke={zero:48,nine:57,A:65,F:70,a:97,f:102};function So(e){if(e>=ke.zero&&e<=ke.nine)return e-ke.zero;if(e>=ke.A&&e<=ke.F)return e-(ke.A-10);if(e>=ke.a&&e<=ke.f)return e-(ke.a-10)}function ge(e,t={}){let n=e;t.size&&(we(n,{size:t.size}),n=Ue(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=So(r.charCodeAt(a++)),u=So(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new C(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+u}return i}function a0(e,t){const n=N(e,t);return ge(n)}function yt(e,t={}){const n=i0.encode(e);return typeof t.size=="number"?(we(n,{size:t.size}),Ue(n,{dir:"right",size:t.size})):n}const Zn=BigInt(2**32-1),Ao=BigInt(32);function c0(e,t=!1){return t?{h:Number(e&Zn),l:Number(e>>Ao&Zn)}:{h:Number(e>>Ao&Zn)|0,l:Number(e&Zn)|0}}function Ya(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=c0(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const Io=(e,t,n)=>e>>>n,Co=(e,t,n)=>e<<32-n|t>>>n,Ft=(e,t,n)=>e>>>n|t<<32-n,Nt=(e,t,n)=>e<<32-n|t>>>n,Yn=(e,t,n)=>e<<64-n|t>>>n-32,Jn=(e,t,n)=>e>>>n-32|t<<64-n,u0=(e,t,n)=>e<<n|t>>>32-n,f0=(e,t,n)=>t<<n|e>>>32-n,d0=(e,t,n)=>t<<n-32|e>>>64-n,l0=(e,t,n)=>e<<n-32|t>>>64-n;function Me(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const h0=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),p0=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,b0=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),m0=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,y0=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),g0=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,_t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function w0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function dn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function xt(e,...t){if(!w0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function v0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");dn(e.outputLen),dn(e.blockLen)}function Wt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ja(e,t){xt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function x0(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function at(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Kr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Oe(e,t){return e<<32-t|e>>>t}const E0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function P0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function S0(e){for(let t=0;t<e.length;t++)e[t]=P0(e[t]);return e}const $o=E0?e=>e:S0;function A0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Ir(e){return typeof e=="string"&&(e=A0(e)),xt(e),e}function I0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];xt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class wi{}function Cr(e){const t=r=>e().update(Ir(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function C0(e=32){if(_t&&typeof _t.getRandomValues=="function")return _t.getRandomValues(new Uint8Array(e));if(_t&&typeof _t.randomBytes=="function")return Uint8Array.from(_t.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const $0=BigInt(0),un=BigInt(1),B0=BigInt(2),O0=BigInt(7),T0=BigInt(256),R0=BigInt(113),Xa=[],ec=[],tc=[];for(let e=0,t=un,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Xa.push(2*(5*r+n)),ec.push((e+1)*(e+2)/2%64);let s=$0;for(let i=0;i<7;i++)t=(t<<un^(t>>O0)*R0)%T0,t&B0&&(s^=un<<(un<<BigInt(i))-un);tc.push(s)}const nc=Ya(tc,!0),k0=nc[0],M0=nc[1],Bo=(e,t,n)=>n>32?d0(e,t,n):u0(e,t,n),Oo=(e,t,n)=>n>32?l0(e,t,n):f0(e,t,n);function F0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],f=n[c+1],d=Bo(u,f,1)^n[a],l=Oo(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=d,e[o+h+1]^=l}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=ec[o],c=Bo(s,i,a),u=Oo(s,i,a),f=Xa[o];s=e[f],i=e[f+1],e[f]=c,e[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=k0[r],e[1]^=M0[r]}at(n)}class vi extends wi{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,dn(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=x0(this.state)}clone(){return this._cloneInto()}keccak(){$o(this.state32),F0(this.state32,this.rounds),$o(this.state32),this.posOut=0,this.pos=0}update(t){Wt(this),t=Ir(t),xt(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Wt(this,!1),xt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return dn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ja(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,at(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new vi(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const N0=(e,t,n)=>Cr(()=>new vi(t,e,n)),rc=N0(1,136,256/8);function K(e,t){const n=t||"hex",r=rc(Pe(e,{strict:!1})?Jt(e):e);return n==="bytes"?r:Ge(r)}let Nn=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const _0=/^0x[a-fA-F0-9]{40}$/,Zr=new Nn(8192);function de(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Zr.has(r))return Zr.get(r);const s=_0.test(e)?e.toLowerCase()===e?!0:n?$r(e)===e:!0:!1;return Zr.set(r,s),s}const Yr=new Nn(8192);function $r(e,t){if(Yr.has(`${e}.${t}`))return Yr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=K(yt(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Yr.set(`${e}.${t}`,i),i}function lt(e,t){if(!de(e,{strict:!1}))throw new He({address:e});return $r(e,t)}let To=class extends C{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},sc=class extends C{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},j0=class extends C{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const z0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new j0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new sc({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new To({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new To({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function xi(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(z0);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Qt(e,t,n,{strict:r}={}){return Pe(e,{strict:!1})?Cs(e,t,n,{strict:r}):ac(e,t,n,{strict:r})}function ic(e,t){if(typeof t=="number"&&t>0&&t>H(e)-1)throw new Qa({offset:t,position:"start",size:H(e)})}function oc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&H(e)!==n-t)throw new Qa({offset:n,position:"end",size:H(e)})}function ac(e,t,n,{strict:r}={}){ic(e,t);const s=e.slice(t,n);return r&&oc(s,t,n),s}function Cs(e,t,n,{strict:r}={}){ic(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&oc(s,t,n),s}function U0(e,t={}){typeof t.size<"u"&&we(e,{size:t.size});const n=W(e,t);return ye(n,t)}function L0(e,t={}){let n=e;if(typeof t.size<"u"&&(we(n,{size:t.size}),n=Le(n)),n.length>1||n[0]>1)throw new Xf(n);return!!n[0]}function De(e,t={}){typeof t.size<"u"&&we(e,{size:t.size});const n=W(e,t);return Se(n,t)}function D0(e,t={}){let n=e;return typeof t.size<"u"&&(we(n,{size:t.size}),n=Le(n,{dir:"right"})),new TextDecoder().decode(n)}function Ae(e){return typeof e[0]=="string"?Ke(e):q0(e)}function q0(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ke(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const H0=/^(.*)\[([0-9]*)\]$/,cc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ei=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ze(e,t){if(e.length!==t.length)throw new qa({expectedLength:e.length,givenLength:t.length});const n=G0({params:e,values:t}),r=Si(n);return r.length===0?"0x":r}function G0({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Pi({param:e[r],value:t[r]}));return n}function Pi({param:e,value:t}){const n=Ai(e.type);if(n){const[r,s]=n;return W0(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return J0(t,{param:e});if(e.type==="address")return V0(t);if(e.type==="bool")return K0(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Ei.exec(e.type)??[];return Z0(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return Q0(t,{param:e});if(e.type==="string")return Y0(t);throw new Qf(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Si(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=H(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(N(t+s,{size:32})),r.push(a),s+=H(a)):n.push(a)}return Ae([...n,...r])}function V0(e){if(!de(e))throw new He({address:e});return{dynamic:!1,encoded:st(e.toLowerCase())}}function W0(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Wa(e);if(!r&&e.length!==t)throw new Lf({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const a=Pi({param:n,value:e[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=Si(i);if(r){const a=N(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Ae([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Ae(i.map(({encoded:o})=>o))}}function Q0(e,{param:t}){const[,n]=t.type.split("bytes"),r=H(e);if(!n){let s=e;return r%32!==0&&(s=st(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Ae([st(N(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new Df({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:st(e,{dir:"right"})}}function K0(e){if(typeof e!="boolean")throw new C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:st(gi(e))}}function Z0(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Za({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:N(e,{size:32,signed:t})}}function Y0(e){const t=vt(e),n=Math.ceil(H(t)/32),r=[];for(let s=0;s<n;s++)r.push(st(Qt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ae([st(N(H(t),{size:32})),...r])}}function J0(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,a=Pi({param:i,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Si(r):Ae(r.map(({encoded:s})=>s))}}function Ai(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function _n(e,t){const n=typeof t=="string"?ge(t):t,r=xi(n);if(H(n)===0&&e.length>0)throw new Fn;if(H(t)&&H(t)<32)throw new Da({data:typeof t=="string"?t:W(t),params:e,size:H(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(s);const[c,u]=qt(r,a,{staticPosition:0});s+=u,i.push(c)}return i}function qt(e,t,{staticPosition:n}){const r=Ai(t.type);if(r){const[s,i]=r;return ed(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return sd(e,t,{staticPosition:n});if(t.type==="address")return X0(e);if(t.type==="bool")return td(e);if(t.type.startsWith("bytes"))return nd(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return rd(e,t);if(t.type==="string")return id(e,{staticPosition:n});throw new Kf(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Ro=32,$s=32;function X0(e){const t=e.readBytes(32);return[$r(W(ac(t,-20))),32]}function ed(e,t,{length:n,staticPosition:r}){if(!n){const o=De(e.readBytes($s)),a=r+o,c=a+Ro;e.setPosition(a);const u=De(e.readBytes(Ro)),f=ln(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[b,p]=qt(e,t,{staticPosition:c});d+=p,l.push(b)}return e.setPosition(r+32),[l,32]}if(ln(t)){const o=De(e.readBytes($s)),a=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=qt(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=qt(e,t,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function td(e){return[L0(e.readBytes(32),{size:32}),32]}function nd(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=De(e.readBytes(32));e.setPosition(n+o);const a=De(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[W(c),32]}return[W(e.readBytes(Number.parseInt(s,10),32)),32]}function rd(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?U0(s,{signed:n}):De(s,{signed:n}),32]}function sd(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(ln(t)){const o=De(e.readBytes($s)),a=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+i);const[f,d]=qt(e,u,{staticPosition:a});i+=d,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,u]=qt(e,a,{staticPosition:n});s[r?o:a?.name]=c,i+=u}return[s,i]}function id(e,{staticPosition:t}){const n=De(e.readBytes(32)),r=t+n;e.setPosition(r);const s=De(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=D0(Le(i));return e.setPosition(t+32),[o,32]}function ln(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(ln);const n=Ai(e.type);return!!(n&&ln({...e,type:n[1]}))}const od=e=>K(Jt(e));function ad(e){return od(e)}const cd="1.2.3";let ce=class Bs extends Error{constructor(t,n={}){const r=n.cause instanceof Bs?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Bs&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${cd}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Ye(e,t){return e.exec(t)?.groups}const uc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,fc=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,dc=/^\(.+?\).*?$/,ko=/^tuple(?<array>(\[(\d*)\])*)$/;function Os(e){let t=e.type;if(ko.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=Os(i),s<n-1&&(t+=", ")}const r=Ye(ko,e.type);return t+=`)${r?.array||""}`,Os({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Ut(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Os(s),r!==n-1&&(t+=", ")}return t}function hr(e){return e.type==="function"?`function ${e.name}(${Ut(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Ut(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Ut(e.inputs)})`:e.type==="error"?`error ${e.name}(${Ut(e.inputs)})`:e.type==="constructor"?`constructor(${Ut(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const lc=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ud(e){return lc.test(e)}function fd(e){return Ye(lc,e)}const hc=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function dd(e){return hc.test(e)}function ld(e){return Ye(hc,e)}const pc=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function hd(e){return pc.test(e)}function pd(e){return Ye(pc,e)}const bc=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Br(e){return bc.test(e)}function bd(e){return Ye(bc,e)}const mc=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function md(e){return mc.test(e)}function yd(e){return Ye(mc,e)}const yc=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function gd(e){return yc.test(e)}function wd(e){return Ye(yc,e)}const vd=/^receive\(\) external payable$/;function xd(e){return vd.test(e)}const Mo=new Set(["memory","indexed","storage","calldata"]),Ed=new Set(["indexed"]),Ts=new Set(["calldata","memory","storage"]);class Pd extends ce{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Sd extends ce{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Ad extends ce{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Id extends ce{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Cd extends ce{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class $d extends ce{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Bd extends ce{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Od extends ce{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Td extends ce{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Xt extends ce{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Rd extends ce{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class kd extends ce{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Md extends ce{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Fd extends ce{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Nd(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const Jr=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Rs(e,t={}){if(hd(e))return _d(e,t);if(dd(e))return jd(e,t);if(ud(e))return zd(e,t);if(md(e))return Ud(e,t);if(gd(e))return Ld(e);if(xd(e))return{type:"receive",stateMutability:"payable"};throw new Rd({signature:e})}function _d(e,t={}){const n=pd(e);if(!n)throw new Xt({signature:e,type:"function"});const r=fe(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Ve(r[a],{modifiers:Ts,structs:t,type:"function"}));const o=[];if(n.returns){const a=fe(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(Ve(a[u],{modifiers:Ts,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function jd(e,t={}){const n=ld(e);if(!n)throw new Xt({signature:e,type:"event"});const r=fe(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ve(r[o],{modifiers:Ed,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function zd(e,t={}){const n=fd(e);if(!n)throw new Xt({signature:e,type:"error"});const r=fe(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ve(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Ud(e,t={}){const n=yd(e);if(!n)throw new Xt({signature:e,type:"constructor"});const r=fe(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ve(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Ld(e){const t=wd(e);if(!t)throw new Xt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Dd=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,qd=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Hd=/^u?int$/;function Ve(e,t){const n=Nd(e,t?.type,t?.structs);if(Jr.has(n))return Jr.get(n);const r=dc.test(e),s=Ye(r?qd:Dd,e);if(!s)throw new Cd({param:e});if(s.name&&Vd(s.name))throw new $d({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const d=fe(s.type),l=[],h=d.length;for(let b=0;b<h;b++)l.push(Ve(d[b],{structs:a}));u={components:l}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Hd.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!gc(c))throw new Ad({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Bd({param:e,type:t?.type,modifier:s.modifier});if(Ts.has(s.modifier)&&!Wd(c,!!s.array))throw new Od({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...i,...o,...u};return Jr.set(n,f),f}function fe(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?fe(a,[...t,n.trim()]):fe(a,t,`${n}${o}`,r);case"(":return fe(a,t,`${n}${o}`,r+1);case")":return fe(a,t,`${n}${o}`,r-1);default:return fe(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Fd({current:n,depth:r});return t.push(n.trim()),t}function gc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||uc.test(e)||fc.test(e)}const Gd=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Vd(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||uc.test(e)||fc.test(e)||Gd.test(e)}function Wd(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Ii(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!Br(a))continue;const c=bd(a);if(!c)throw new Xt({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const b=u[l].trim();if(!b)continue;const p=Ve(b,{type:"struct"});f.push(p)}if(!f.length)throw new kd({signature:a});t[c.name]=f}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=wc(c,t)}return r}const Qd=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function wc(e=[],t={},n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(dc.test(o.type))r.push(o);else{const c=Ye(Qd,o.type);if(!c?.type)throw new Td({abiParameter:o});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Md({type:f});r.push({...o,type:`tuple${u??""}`,components:wc(t[f],t,new Set([...n,f]))})}else if(gc(f))r.push(o);else throw new Sd({type:f})}}return r}function vc(e){const t=Ii(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];Br(i)||n.push(Rs(i,t))}return n}function Fo(e){let t;if(typeof e=="string")t=Rs(e);else{const n=Ii(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(!Br(i)){t=Rs(i,n);break}}}if(!t)throw new Pd({signature:e});return t}function No(e){const t=[];if(typeof e=="string"){const n=fe(e),r=n.length;for(let s=0;s<r;s++)t.push(Ve(n[s],{modifiers:Mo}))}else{const n=Ii(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(Br(i))continue;const o=fe(i),a=o.length;for(let c=0;c<a;c++)t.push(Ve(o[c],{modifiers:Mo,structs:n}))}}if(t.length===0)throw new Id({params:e});return t}function Kd(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new C("Unable to normalize signature.");return s}const Zd=e=>{const t=typeof e=="string"?e:hr(e);return Kd(t)};function xc(e){return ad(Zd(e))}const Or=xc,jn=e=>Qt(xc(e),0,4);function Ot(e){const{abi:t,args:n=[],name:r}=e,s=Pe(r,{strict:!1}),i=t.filter(a=>s?a.type==="function"?jn(a)===r:a.type==="event"?Or(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?ks(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=Ec(a.inputs,o.inputs,n);if(u)throw new Wf({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||i[0]}function ks(e,t){const n=typeof e,r=t.type;switch(r){case"address":return de(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>n==="object"&&ks(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>ks(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ec(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Ec(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?de(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?de(n[r],{strict:!1}):!1)return o}}const Xr="/docs/contract/decodeFunctionResult";function Tt(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const a=Ot({abi:t,args:n,name:r});if(!a)throw new Vt(r,{docsPath:Xr});i=a}if(i.type!=="function")throw new Vt(void 0,{docsPath:Xr});if(!i.outputs)throw new Ga(i.name,{docsPath:Xr});const o=_n(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const _o="/docs/contract/encodeFunctionData";function Yd(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=Ot({abi:t,args:n,name:r});if(!i)throw new Vt(r,{docsPath:_o});s=i}if(s.type!=="function")throw new Vt(void 0,{docsPath:_o});return{abi:[s],functionName:jn(Ee(s))}}function Be(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:Yd(e),s=n[0],i=r,o="inputs"in s&&s.inputs?Ze(s.inputs,t??[]):void 0;return Ke([i,o??"0x"])}class Ms extends C{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Pc extends C{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function en({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Ms({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Ms({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Z(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Jd={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Sc={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Xd={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Ac(e){const{abi:t,data:n}=e,r=Qt(n,0,4);if(r==="0x")throw new Fn;const i=[...t||[],Sc,Xd].find(o=>o.type==="error"&&r===jn(Ee(o)));if(!i)throw new Ha(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?_n(i.inputs,Qt(n,4)):void 0,errorName:i.name}}const G=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Ic({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?G(t[i]):t[i]}`).join(", ")})`}const el={gwei:9,wei:18},tl={ether:-9,wei:9};function Cc(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Ci(e,t="wei"){return Cc(e,el[t])}function ae(e,t="wei"){return Cc(e,tl[t])}class nl extends C{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class rl extends C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function jo(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function sl(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=jo(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=jo(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function zn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class il extends C{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",zn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ol extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=zn({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:d,value:typeof l<"u"&&`${Ci(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ae(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ae(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ae(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class $c extends C{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Bc extends C{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class al extends C{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class cl extends C{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const ul=e=>e,Un=e=>e;class Oc extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){const b=n?Z(n):void 0;let p=zn({from:b?.address,to:d,value:typeof l<"u"&&`${Ci(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ae(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ae(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ae(u)} gwei`,nonce:f});h&&(p+=`
${sl(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Tc extends C{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Ot({abi:n,args:r,name:o}),u=c?Ic({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Ee(c,{includeName:!0}):void 0,d=zn({address:s&&ul(s),function:f,args:u&&u!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=a}}class Fs extends C{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=Ac({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=o;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=Jd[h]}else{const h=f?Ee(f,{includeName:!0}):void 0,b=f&&l?Ic({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",b&&b!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(f){i=f}else s&&(c=s);let u;i instanceof Ha&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class fl extends C{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class dl extends C{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Tr extends C{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function $i(e){if(!(e instanceof C))return!1;const t=e.walk(n=>n instanceof Fs);return t instanceof Fs?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function ll(e){const{abi:t,data:n}=e,r=Qt(n,0,4),s=t.find(i=>i.type==="function"&&r===jn(Ee(i)));if(!s)throw new Vf(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?_n(s.inputs,Qt(n,4)):void 0}}const es="/docs/contract/encodeErrorResult";function zo(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Ot({abi:t,args:r,name:n});if(!c)throw new xo(n,{docsPath:es});s=c}if(s.type!=="error")throw new xo(void 0,{docsPath:es});const i=Ee(s),o=jn(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new qf(s.name,{docsPath:es});a=Ze(s.inputs,r)}return Ke([o,a])}const ts="/docs/contract/encodeFunctionResult";function hl(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=Ot({abi:t,name:n});if(!o)throw new Vt(n,{docsPath:ts});s=o}if(s.type!=="function")throw new Vt(void 0,{docsPath:ts});if(!s.outputs)throw new Ga(s.name,{docsPath:ts});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Wa(r)})();return Ze(s.outputs,i)}const Ln="x-batch-gateway:true";async function Rc(e){const{data:t,ccipRequest:n}=e,{args:[r]}=ll({abi:As,data:t}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(Ln)?await Rc({data:o.data,ccipRequest:n}):await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=pl(c)}})),hl({abi:As,functionName:"query",result:[s,i]})}function pl(e){return e.name==="HttpRequestError"&&e.status?zo({abi:As,errorName:"HttpError",args:[e.status,e.shortMessage]}):zo({abi:[Sc],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function kc(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Pe(t)?t:null}function Ns(e){let t=new Uint8Array(32).fill(0);if(!e)return W(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=kc(n[r]),i=s?Jt(s):K(yt(n[r]),"bytes");t=K(Ae([t,i]),"bytes")}return W(t)}function bl(e){return`[${e.slice(2)}]`}function ml(e){const t=new Uint8Array(32).fill(0);return e?kc(e)||K(yt(e)):W(t)}function Bi(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(yt(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=yt(s[i]);o.byteLength>255&&(o=yt(bl(ml(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function _(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}class gt extends C{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Un(o)}`,t&&`Request body: ${G(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}}class Oi extends C{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Un(r)}`,`Request body: ${G(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class Uo extends C{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Un(n)}`,`Request body: ${G(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const yl=-1;class ue extends C{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof Oi?t.code:n??yl}}class he extends ue{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class hn extends ue{constructor(t){super(t,{code:hn.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class pn extends ue{constructor(t){super(t,{code:pn.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class bn extends ue{constructor(t,{method:n}={}){super(t,{code:bn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class mn extends ue{constructor(t){super(t,{code:mn.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Et extends ue{constructor(t){super(t,{code:Et.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ct extends ue{constructor(t){super(t,{code:ct.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class yn extends ue{constructor(t){super(t,{code:yn.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(yn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class it extends ue{constructor(t){super(t,{code:it.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(it,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Kt extends ue{constructor(t){super(t,{code:Kt.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ht extends ue{constructor(t,{method:n}={}){super(t,{code:ht.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Zt extends ue{constructor(t){super(t,{code:Zt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class gn extends ue{constructor(t){super(t,{code:gn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ee extends he{constructor(t){super(t,{code:ee.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class wn extends he{constructor(t){super(t,{code:wn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class vn extends he{constructor(t,{method:n}={}){super(t,{code:vn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class xn extends he{constructor(t){super(t,{code:xn.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class En extends he{constructor(t){super(t,{code:En.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Pt extends he{constructor(t){super(t,{code:Pt.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Pn extends he{constructor(t){super(t,{code:Pn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Sn extends he{constructor(t){super(t,{code:Sn.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class An extends he{constructor(t){super(t,{code:An.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class In extends he{constructor(t){super(t,{code:In.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(In,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Cn extends he{constructor(t){super(t,{code:Cn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class $n extends he{constructor(t){super(t,{code:$n.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Bn extends he{constructor(t){super(t,{code:Bn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class gl extends ue{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const wl=3;function Yt(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=e instanceof Tr?e:e instanceof C?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,h=e instanceof Fn?new fl({functionName:i}):[wl,Et.code].includes(c)&&(u||f||d||l)||c===ct.code&&f==="execution reverted"&&u?new Fs({abi:t,data:typeof u=="object"?u.data:u,functionName:i,message:a instanceof Oi?f:l??d}):e;return new Tc(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const vl="modulepreload",xl=function(e){return"/"+e},Lo={},Mc=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=c(n.map(u=>{if(u=xl(u),u in Lo)return;Lo[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const l=document.createElement("link");if(l.rel=f?"stylesheet":vl,f||(l.as="script"),l.crossOrigin="",l.href=u,a&&l.setAttribute("nonce",a),document.head.appendChild(l),f)return new Promise((h,b)=>{l.addEventListener("load",h),l.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};const Ti=BigInt(0),_s=BigInt(1);function Dn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ri(e){if(!Dn(e))throw new Error("Uint8Array expected")}function On(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Xn(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Fc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Ti:BigInt("0x"+e)}const Nc=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",El=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tn(e){if(Ri(e),Nc)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=El[e[n]];return t}const Fe={_0:48,_9:57,A:65,F:70,a:97,f:102};function Do(e){if(e>=Fe._0&&e<=Fe._9)return e-Fe._0;if(e>=Fe.A&&e<=Fe.F)return e-(Fe.A-10);if(e>=Fe.a&&e<=Fe.f)return e-(Fe.a-10)}function pr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Nc)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Do(e.charCodeAt(i)),a=Do(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function wt(e){return Fc(Tn(e))}function _c(e){return Ri(e),Fc(Tn(Uint8Array.from(e).reverse()))}function qn(e,t){return pr(e.toString(16).padStart(t*2,"0"))}function jc(e,t){return qn(e,t).reverse()}function be(e,t,n){let r;if(typeof t=="string")try{r=pr(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(Dn(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function br(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ri(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const ns=e=>typeof e=="bigint"&&Ti<=e;function ki(e,t,n){return ns(e)&&ns(t)&&ns(n)&&t<=e&&e<n}function Ht(e,t,n,r){if(!ki(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Pl(e){let t;for(t=0;e>Ti;e>>=_s,t+=1);return t}const Rr=e=>(_s<<BigInt(e))-_s,rs=e=>new Uint8Array(e),qo=e=>Uint8Array.from(e);function Sl(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=rs(e),s=rs(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),c=(d=rs(0))=>{s=a(qo([0]),d),r=a(),d.length!==0&&(s=a(qo([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const h=r.slice();l.push(h),d+=r.length}return br(...l)};return(d,l)=>{o(),c(d);let h;for(;!(h=l(u()));)c();return o(),h}}const Al={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Dn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function kr(e,t,n={}){const r=(s,i,o)=>{const a=Al[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function Ho(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const Il="0.1.1";function Cl(){return Il}let U=class _e extends Error{static setStaticOptions(t){_e.prototype.docsOrigin=t.docsOrigin,_e.prototype.showVersion=t.showVersion,_e.prototype.version=t.version}constructor(t,n={}){const r=(()=>{if(n.cause instanceof _e){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof _e&&n.cause.docsPath||n.docsPath,i=n.docsOrigin??_e.prototype.docsOrigin,o=`${i}${s??""}`,a=!!(n.version??_e.prototype.showVersion),c=n.version??_e.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||a?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=o,this.docsOrigin=i,this.docsPath=s,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return zc(this,t)}};Object.defineProperty(U,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${Cl()}`}});U.setStaticOptions(U.defaultStaticOptions);function zc(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?zc(e.cause,t):t?null:e}function Hn(e,t){if(Lt(e)>t)throw new Hl({givenSize:Lt(e),maxSize:t})}const Ne={zero:48,nine:57,A:65,F:70,a:97,f:102};function Go(e){if(e>=Ne.zero&&e<=Ne.nine)return e-Ne.zero;if(e>=Ne.A&&e<=Ne.F)return e-(Ne.A-10);if(e>=Ne.a&&e<=Ne.f)return e-(Ne.a-10)}function $l(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Gl({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function Uc(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Mr(e,t){if(le(e)>t)throw new Yl({givenSize:le(e),maxSize:t})}function Bl(e,t){if(typeof t=="number"&&t>0&&t>le(e)-1)throw new Kc({offset:t,position:"start",size:le(e)})}function Ol(e,t,n){if(typeof t=="number"&&typeof n=="number"&&le(e)!==n-t)throw new Kc({offset:n,position:"end",size:le(e)})}function Lc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Jl({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Tl="#__bigint";function Dc(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+Tl:s,n)}const Rl=new TextDecoder,kl=new TextEncoder;function Ml(e){return e instanceof Uint8Array?e:typeof e=="string"?qc(e):Fl(e)}function Fl(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function qc(e,t={}){const{size:n}=t;let r=e;n&&(Mr(e,n),r=At(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=Go(s.charCodeAt(c++)),f=Go(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new U(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=u<<4|f}return o}function Nl(e,t={}){const{size:n}=t,r=kl.encode(e);return typeof n=="number"?(Hn(r,n),_l(r,n)):r}function _l(e,t){return $l(e,{dir:"right",size:t})}function Lt(e){return e.length}function jl(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function zl(e,t={}){const{size:n}=t;typeof n<"u"&&Hn(e,n);const r=Ce(e,t);return Vc(r,t)}function Ul(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Hn(r,n),r=Hc(r)),r.length>1||r[0]>1)throw new ql(r);return!!r[0]}function qe(e,t={}){const{size:n}=t;typeof n<"u"&&Hn(e,n);const r=Ce(e,t);return Wc(r,t)}function Ll(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Hn(r,n),r=Dl(r)),Rl.decode(r)}function Hc(e){return Uc(e,{dir:"left"})}function Dl(e){return Uc(e,{dir:"right"})}class ql extends U{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Hl=class extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Gl=class extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Vl=new TextEncoder,Wl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ql(e,t={}){const{strict:n=!1}=t;if(!e)throw new Vo(e);if(typeof e!="string")throw new Vo(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Wo(e);if(!e.startsWith("0x"))throw new Wo(e)}function Ie(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Kl(e){return e instanceof Uint8Array?Ce(e):Array.isArray(e)?Ce(new Uint8Array(e)):e}function Gc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Mr(n,t.size),St(n,t.size)):n}function Ce(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Wl[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Mr(r,t.size),At(r,t.size)):r}function ne(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const u=typeof e=="bigint"?"n":"";throw new Qc({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?St(c,r):c}function Mi(e,t={}){return Ce(Vl.encode(e),t)}function St(e,t){return Lc(e,{dir:"left",size:t})}function At(e,t){return Lc(e,{dir:"right",size:t})}function Re(e,t,n,r={}){const{strict:s}=r;Bl(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Ol(i,t,n),i}function le(e){return Math.ceil((e.length-2)/2)}function Vc(e,t={}){const{signed:n}=t;t.size&&Mr(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,o=i>>1n;return r<=o?r:r-i-1n}function Wc(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Vc(e,t))}function Zl(e,t={}){const{strict:n=!1}=t;try{return Ql(e,{strict:n}),!0}catch{return!1}}class Qc extends U{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Vo extends U{constructor(t){super(`Value \`${typeof t=="object"?Dc(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Wo extends U{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Yl extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Kc extends U{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Jl extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Xl(e){return{address:e.address,amount:ne(e.amount),index:ne(e.index),validatorIndex:ne(e.validatorIndex)}}function Zc(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:ne(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:ne(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:ne(e.gasLimit)},...typeof e.number=="bigint"&&{number:ne(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:ne(e.prevRandao)},...typeof e.time=="bigint"&&{time:ne(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Xl)}}}const eh="0x82ad56cb",Yc="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",th="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",nh="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Fi="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",ss="/docs/contract/encodeDeployData";function Ni(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Uf({docsPath:ss});if(!("inputs"in s))throw new vo({docsPath:ss});if(!s.inputs||s.inputs.length===0)throw new vo({docsPath:ss});const i=Ze(s.inputs,n);return Ke([r,i])}class pt extends C{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(pt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class mr extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ae(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class js extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ae(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(js,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class zs extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(zs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Us extends C{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Us,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Ls extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Ls,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ds extends C{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class qs extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(qs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Hs extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Hs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Gs extends C{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Gs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class yr extends C{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ae(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ae(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(yr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Gn extends C{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Fr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof C?e.walk(s=>s?.code===pt.code):e;return r instanceof C?new pt({cause:e,message:r.details}):pt.nodeMessage.test(n)?new pt({cause:e,message:e.details}):mr.nodeMessage.test(n)?new mr({cause:e,maxFeePerGas:t?.maxFeePerGas}):js.nodeMessage.test(n)?new js({cause:e,maxFeePerGas:t?.maxFeePerGas}):zs.nodeMessage.test(n)?new zs({cause:e,nonce:t?.nonce}):Us.nodeMessage.test(n)?new Us({cause:e,nonce:t?.nonce}):Ls.nodeMessage.test(n)?new Ls({cause:e,nonce:t?.nonce}):Ds.nodeMessage.test(n)?new Ds({cause:e}):qs.nodeMessage.test(n)?new qs({cause:e,gas:t?.gas}):Hs.nodeMessage.test(n)?new Hs({cause:e,gas:t?.gas}):Gs.nodeMessage.test(n)?new Gs({cause:e}):yr.nodeMessage.test(n)?new yr({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Gn({cause:e})}function Jc(e,{docsPath:t,...n}){const r=(()=>{const s=Fr(e,n);return s instanceof Gn?e:s})();return new Oc(r,{docsPath:t,...n})}function Nr(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=t(e||{});return r(s),n}const rh={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Vn(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=sh(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>W(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=N(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=N(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=N(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=N(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=N(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=N(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=rh[e.type]),typeof e.value<"u"&&(n.value=N(e.value)),n}function sh(e){return e.map(t=>({address:t.address,r:t.r?N(BigInt(t.r)):t.r,s:t.s?N(BigInt(t.s)):t.s,chainId:N(t.chainId),nonce:N(t.nonce),...typeof t.yParity<"u"?{yParity:N(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:N(t.v)}:{}}))}function _i(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const is=new Map;function Xc({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const f=c();o();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<f.length;h++){const{resolve:b}=f[h];b?.([l[h],l])}}).catch(l=>{for(let h=0;h<f.length;h++){const{reject:b}=f[h];b?.(l)}})},o=()=>is.delete(t),a=()=>c().map(({args:f})=>f),c=()=>is.get(t)||[],u=f=>is.set(t,[...c(),f]);return{flush:o,async schedule(f){const{promise:d,resolve:l,reject:h}=_i();return n?.([...a(),f])&&i(),c().length>0?(u({args:f,resolve:l,reject:h}),d):(u({args:f,resolve:l,reject:h}),setTimeout(i,r),d)}}}function Qo(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Po({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Po({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function ih(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=N(t)),n!==void 0&&(o.nonce=N(n)),r!==void 0&&(o.state=Qo(r)),s!==void 0){if(o.state)throw new rl;o.stateDiff=Qo(s)}return o}function ji(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!de(n,{strict:!1}))throw new He({address:n});if(t[n])throw new nl({address:n});t[n]=ih(r)}return t}const oh=2n**256n-1n;function tn(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,i=t?Z(t):void 0;if(i&&!de(i.address))throw new He({address:i.address});if(s&&!de(s))throw new He({address:s});if(n&&n>oh)throw new mr({maxFeePerGas:n});if(r&&n&&r>n)throw new yr({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function Wn(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:w,to:g,value:y,stateOverride:x,...v}=t,S=n?Z(n):void 0;if(f&&(l||h))throw new C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&g)throw new C("Cannot provide both `code` & `to` as parameters.");const I=f&&d,A=l&&h&&g&&d,$=I||A,k=I?eu({code:f,data:d}):A?uh({data:d,factory:l,factoryData:h,to:g}):d;try{tn(t);const j=(typeof i=="bigint"?N(i):void 0)||o,B=u?Zc(u):void 0,O=ji(x),M=e.chain?.formatters?.transactionRequest?.format,F=(M||Vn)({...Nr(v,{format:M}),accessList:a,account:S,authorizationList:r,blobs:c,data:k,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:w,to:$?void 0:g,value:y},"call");if(s&&ah({request:F})&&!O&&!B)try{return await ch(e,{...F,blockNumber:i,blockTag:o})}catch(q){if(!(q instanceof Pc)&&!(q instanceof Ms))throw q}const z=(()=>{const q=[F,j];return O&&B?[...q,O,B]:O?[...q,O]:B?[...q,{},B]:q})(),L=await e.request({method:"eth_call",params:z});return L==="0x"?{data:void 0}:{data:L}}catch(R){const j=fh(R),{offchainLookup:B,offchainLookupSignature:O}=await Mc(async()=>{const{offchainLookup:M,offchainLookupSignature:T}=await Promise.resolve().then(()=>Rp);return{offchainLookup:M,offchainLookupSignature:T}},void 0);if(e.ccipRead!==!1&&j?.slice(0,10)===O&&g)return{data:await B(e,{data:j,to:g})};throw $&&j?.slice(0,10)==="0x101bb98d"?new dl({factory:l}):Jc(R,{...t,account:S,chain:e.chain})}}function ah({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(eh)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function ch(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return en({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Pc})(),d=(typeof i=="bigint"?N(i):void 0)||o,{schedule:l}=Xc({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(p){return p.reduce((E,{data:P})=>E+(P.length-2),0)>n*2},fn:async p=>{const m=p.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),E=Be({abi:dr,args:[m],functionName:"aggregate3"}),P=await e.request({method:"eth_call",params:[{...u===null?{data:eu({code:Fi,data:E})}:{to:u,data:E}},d]});return Tt({abi:dr,args:[m],functionName:"aggregate3",data:P||"0x"})}}),[{returnData:h,success:b}]=await l({data:a,to:c});if(!b)throw new Tr({data:h});return h==="0x"?{data:void 0}:{data:h}}function eu(e){const{code:t,data:n}=e;return Ni({abi:vc(["constructor(bytes, bytes)"]),bytecode:Yc,args:[t,n]})}function uh(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Ni({abi:vc(["constructor(address, bytes, address, bytes)"]),bytecode:th,args:[s,t,n,r]})}function fh(e){if(!(e instanceof C))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function $e(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=Be({abi:n,args:s,functionName:i});try{const{data:c}=await _(e,Wn,"call")({...o,data:a,to:r});return Tt({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Yt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function dh(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return en({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>i.endsWith(l)))return null;const d=s!=null?[Ns(i),BigInt(s)]:[Ns(i)];try{const l=Be({abi:go,functionName:"addr",args:d}),h={address:u,abi:ja,functionName:"resolveWithGateways",args:[Ge(Bi(i)),l,o??[Ln]],blockNumber:n,blockTag:r},p=await _(e,$e,"readContract")(h);if(p[0]==="0x")return null;const m=Tt({abi:go,args:d,functionName:"addr",data:p[0]});return m==="0x"||Le(m)==="0x00"?null:m}catch(l){if(a)throw l;if($i(l))return null;throw l}}class lh extends C{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class fn extends C{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class zi extends C{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class hh extends C{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const ph=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,bh=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,mh=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,yh=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function gh(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ko(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function tu({uri:e,gatewayUrls:t}){const n=mh.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ko(t?.ipfs,"https://ipfs.io"),s=Ko(t?.arweave,"https://arweave.net"),i=e.match(ph),{protocol:o,subpath:a,target:c,subtarget:u=""}=i?.groups||{},f=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||bh.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(yh,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new zi({uri:e})}function nu(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new lh({data:e});return e.image||e.image_url||e.image_data}async function wh({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Ui({gatewayUrls:e,uri:nu(n)})}catch{throw new zi({uri:t})}}async function Ui({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=tu({uri:t,gatewayUrls:e});if(r||await gh(n))return n;throw new zi({uri:t})}function vh(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new fn({reason:"Only EIP-155 supported"});if(!o)throw new fn({reason:"Chain ID not found"});if(!c)throw new fn({reason:"Contract address not found"});if(!s)throw new fn({reason:"Token ID not found"});if(!a)throw new fn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function xh(e,{nft:t}){if(t.namespace==="erc721")return $e(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return $e(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new hh({namespace:t.namespace})}async function Eh(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Ph(e,{gatewayUrls:t,record:n}):Ui({uri:n,gatewayUrls:t})}async function Ph(e,{gatewayUrls:t,record:n}){const r=vh(n),s=await xh(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=tu({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=a?atob(i.replace("data:application/json;base64,","")):i,f=JSON.parse(u);return Ui({uri:nu(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),wh({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function ru(e,t){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return en({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>i.endsWith(d)))return null;try{const d={address:u,abi:ja,args:[Ge(Bi(i)),Be({abi:yo,functionName:"text",args:[Ns(i),s]}),o??[Ln]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await _(e,$e,"readContract")(d);if(h[0]==="0x")return null;const b=Tt({abi:yo,functionName:"text",data:h[0]});return b===""?null:b}catch(d){if(a)throw d;if($i(d))return null;throw d}}async function Sh(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await _(e,ru,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await Eh(e,{record:c,gatewayUrls:r})}catch{return null}}async function Ah(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return en({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:jf,args:[n,i,o??[Ln]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=_(e,$e,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if($i(f))return null;throw f}}async function Ih(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:i}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return en({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await _(e,$e,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ge(Bi(s))],blockNumber:n,blockTag:r});return c}async function su(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...b}=t,p=n?Z(n):void 0;try{tn(t);const E=(typeof r=="bigint"?N(r):void 0)||s,P=e.chain?.formatters?.transactionRequest?.format,g=(P||Vn)({...Nr(b,{format:P}),account:p,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),y=await e.request({method:"eth_createAccessList",params:[g,E]});return{accessList:y.accessList,gasUsed:BigInt(y.gasUsed)}}catch(m){throw Jc(m,{...t,account:p,chain:e.chain})}}function _r(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:i,transport:o})=>{i==="success"&&t===r&&(n[s]=o.request)}),(r=>n[r]||e.request)}async function Ch(e){const t=_r(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class $h extends C{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Zo="/docs/contract/encodeEventTopics";function Qn(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=Ot({abi:t,name:n});if(!c)throw new Eo(n,{docsPath:Zo});s=c}if(s.type!=="event")throw new Eo(void 0,{docsPath:Zo});const i=Ee(s),o=Or(i);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,h)=>Yo({param:f,value:u[d][h]})):typeof u[d]<"u"&&u[d]!==null?Yo({param:f,value:u[d]}):null)??[])}return[o,...a]}function Yo({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return K(Jt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new $h(e.type);return Ze([e],[t])}async function iu(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=t,u=_r(e,{method:"eth_newFilter"}),f=i?Qn({abi:r,args:s,eventName:i}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?N(o):o,toBlock:typeof c=="bigint"?N(c):c,topics:f}]});return{abi:r,args:s,eventName:i,id:d,request:u(d),strict:!!a,type:"event"}}async function ou(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),u=_r(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>Qn({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?N(i):i,toBlock:typeof a=="bigint"?N(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:u(d),strict:!!o,toBlock:a,type:"event"}}async function au(e){const t=_r(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function Bh(e){const t=K(`0x${e.substring(4)}`).substring(26);return $r(`0x${t}`)}async function Oh({hash:e,signature:t}){const n=Pe(e)?e:Ge(e),{secp256k1:r}=await Mc(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Qb);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),b=Jo(h);return new r.Signature(ye(u),ye(f)).addRecoveryBit(b)}const o=Pe(t)?t:Ge(t);if(H(o)!==65)throw new Error("invalid signature length");const a=Se(`0x${o.slice(130)}`),c=Jo(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Jo(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function cu({hash:e,signature:t}){return Bh(await Oh({hash:e,signature:t}))}function Th(e,t="hex"){const n=uu(e),r=xi(new Uint8Array(n.length));return n.encode(r),t==="hex"?W(r.bytes):r.bytes}function uu(e){return Array.isArray(e)?Rh(e.map(t=>uu(t))):kh(e)}function Rh(e){const t=e.reduce((s,i)=>s+i.length,0),n=fu(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function kh(e){const t=typeof e=="string"?ge(e):e,n=fu(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function fu(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new C("Length is too large.")}function Mh(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,i=K(Ke(["0x05",Th([t?N(t):"0x",s,n?N(n):"0x"])]));return r==="bytes"?ge(i):i}async function du(e){const{authorization:t,signature:n}=e;return cu({hash:Mh(t),signature:n??t})}class Fh extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=zn({from:n?.address,to:d,value:typeof l<"u"&&`${Ci(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ae(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ae(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ae(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Nh(e,{docsPath:t,...n}){const r=(()=>{const s=Fr(e,n);return s instanceof Gn?e:s})();return new Fh(r,{docsPath:t,...n})}class lu extends C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Li extends C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class _h extends C{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ae(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class hu extends C{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const pu={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Di(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Se(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Se(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?pu[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=jh(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function jh(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function bu(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Di(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function xe(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const i=s??!1,o=n!==void 0?N(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new hu({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||bu)(a,"getBlock")}async function qi(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function zh(e,t){return mu(e,t)}async function mu(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const i=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof i=="function"){const a=n||await _(e,xe,"getBlock")({}),c=await i({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof i<"u")return i;const o=await e.request({method:"eth_maxPriorityFeePerGas"});return ye(o)}catch{const[i,o]=await Promise.all([n?Promise.resolve(n):_(e,xe,"getBlock")({}),_(e,qi,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new Li;const a=o-i.baseFeePerGas;return a<0n?0n:a}}async function Uh(e,t){return Vs(e,t)}async function Vs(e,t){const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new lu;const c=10**(o.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(o*c))/BigInt(c),f=n||await _(e,xe,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:i});if(l!==null)return l}if(i==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Li;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await mu(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await _(e,qi,"getGasPrice")({}))}}async function Hi(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?N(r):n]},{dedupe:!!r});return Se(s)}function yu(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>ge(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>W(i))}function gu(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>ge(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>ge(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>W(o))}function Lh(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}function Dh(e,t,n){return e&t^~e&n}function qh(e,t,n){return e&t^e&n^t&n}class wu extends wi{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Kr(this.buffer)}update(t){Wt(this),t=Ir(t),xt(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Kr(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Wt(this),Ja(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,at(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Lh(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Kr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const et=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),J=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),X=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Hh=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tt=new Uint32Array(64);class Gh extends wu{constructor(t=32){super(64,t,8,!1),this.A=et[0]|0,this.B=et[1]|0,this.C=et[2]|0,this.D=et[3]|0,this.E=et[4]|0,this.F=et[5]|0,this.G=et[6]|0,this.H=et[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)tt[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=tt[d-15],h=tt[d-2],b=Oe(l,7)^Oe(l,18)^l>>>3,p=Oe(h,17)^Oe(h,19)^h>>>10;tt[d]=p+tt[d-7]+b+tt[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=Oe(a,6)^Oe(a,11)^Oe(a,25),h=f+l+Dh(a,c,u)+Hh[d]+tt[d]|0,p=(Oe(r,2)^Oe(r,13)^Oe(r,22))+qh(r,s,i)|0;f=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,i,o,a,c,u,f)}roundClean(){at(tt)}destroy(){this.set(0,0,0,0,0,0,0,0),at(this.buffer)}}const vu=Ya(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Vh=vu[0],Wh=vu[1],nt=new Uint32Array(80),rt=new Uint32Array(80);class xu extends wu{constructor(t=64){super(128,t,16,!1),this.Ah=X[0]|0,this.Al=X[1]|0,this.Bh=X[2]|0,this.Bl=X[3]|0,this.Ch=X[4]|0,this.Cl=X[5]|0,this.Dh=X[6]|0,this.Dl=X[7]|0,this.Eh=X[8]|0,this.El=X[9]|0,this.Fh=X[10]|0,this.Fl=X[11]|0,this.Gh=X[12]|0,this.Gl=X[13]|0,this.Hh=X[14]|0,this.Hl=X[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:f,Fh:d,Fl:l,Gh:h,Gl:b,Hh:p,Hl:m}=this;return[t,n,r,s,i,o,a,c,u,f,d,l,h,b,p,m]}set(t,n,r,s,i,o,a,c,u,f,d,l,h,b,p,m){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=d|0,this.Fl=l|0,this.Gh=h|0,this.Gl=b|0,this.Hh=p|0,this.Hl=m|0}process(t,n){for(let w=0;w<16;w++,n+=4)nt[w]=t.getUint32(n),rt[w]=t.getUint32(n+=4);for(let w=16;w<80;w++){const g=nt[w-15]|0,y=rt[w-15]|0,x=Ft(g,y,1)^Ft(g,y,8)^Io(g,y,7),v=Nt(g,y,1)^Nt(g,y,8)^Co(g,y,7),S=nt[w-2]|0,I=rt[w-2]|0,A=Ft(S,I,19)^Yn(S,I,61)^Io(S,I,6),$=Nt(S,I,19)^Jn(S,I,61)^Co(S,I,6),k=b0(v,$,rt[w-7],rt[w-16]),R=m0(k,x,A,nt[w-7],nt[w-16]);nt[w]=R|0,rt[w]=k|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:f,Eh:d,El:l,Fh:h,Fl:b,Gh:p,Gl:m,Hh:E,Hl:P}=this;for(let w=0;w<80;w++){const g=Ft(d,l,14)^Ft(d,l,18)^Yn(d,l,41),y=Nt(d,l,14)^Nt(d,l,18)^Jn(d,l,41),x=d&h^~d&p,v=l&b^~l&m,S=y0(P,y,v,Wh[w],rt[w]),I=g0(S,E,g,x,Vh[w],nt[w]),A=S|0,$=Ft(r,s,28)^Yn(r,s,34)^Yn(r,s,39),k=Nt(r,s,28)^Jn(r,s,34)^Jn(r,s,39),R=r&i^r&a^i&a,j=s&o^s&c^o&c;E=p|0,P=m|0,p=h|0,m=b|0,h=d|0,b=l|0,{h:d,l}=Me(u|0,f|0,I|0,A|0),u=a|0,f=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const B=h0(A,k,j);r=p0(B,I,$,R),s=B|0}({h:r,l:s}=Me(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Me(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Me(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:f}=Me(this.Dh|0,this.Dl|0,u|0,f|0),{h:d,l}=Me(this.Eh|0,this.El|0,d|0,l|0),{h,l:b}=Me(this.Fh|0,this.Fl|0,h|0,b|0),{h:p,l:m}=Me(this.Gh|0,this.Gl|0,p|0,m|0),{h:E,l:P}=Me(this.Hh|0,this.Hl|0,E|0,P|0),this.set(r,s,i,o,a,c,u,f,d,l,h,b,p,m,E,P)}roundClean(){at(nt,rt)}destroy(){at(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Qh extends xu{constructor(){super(48),this.Ah=J[0]|0,this.Al=J[1]|0,this.Bh=J[2]|0,this.Bl=J[3]|0,this.Ch=J[4]|0,this.Cl=J[5]|0,this.Dh=J[6]|0,this.Dl=J[7]|0,this.Eh=J[8]|0,this.El=J[9]|0,this.Fh=J[10]|0,this.Fl=J[11]|0,this.Gh=J[12]|0,this.Gl=J[13]|0,this.Hh=J[14]|0,this.Hl=J[15]|0}}const Eu=Cr(()=>new Gh),ag=Cr(()=>new xu),cg=Cr(()=>new Qh),Kh=Eu;function Zh(e,t){return Kh(Pe(e,{strict:!1})?Jt(e):e)}function Yh(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Zh(t);return s.set([n],0),r==="bytes"?s:W(s)}function Jh(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const i of t)s.push(Yh({commitment:i,to:r,version:n}));return s}const Xo=6,Pu=32,Gi=4096,Su=Pu*Gi,ea=Su*Xo-1-1*Gi*Xo;class Xh extends C{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class ep extends C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function tp(e){const t=typeof e.data=="string"?ge(e.data):e.data,n=H(t);if(!n)throw new ep;if(n>ea)throw new Xh({maxSize:ea,size:n});const r=[];let s=!0,i=0;for(;s;){const o=xi(new Uint8Array(Su));let a=0;for(;a<Gi;){const c=t.slice(i,i+(Pu-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>W(o.bytes))}function np(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??tp({data:t}),i=e.commitments??yu({blobs:s,kzg:n,to:r}),o=e.proofs??gu({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function rp(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new il({transaction:e})}function sp(e,{docsPath:t,...n}){const r=(()=>{const s=Fr(e,n);return s instanceof Gn?e:s})();return new ol(r,{docsPath:t,...n})}async function jr(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Se(t)}async function Au(e,t){const{account:n=e.account,accessList:r,authorizationList:s,chain:i=e.chain,blobVersionedHashes:o,blobs:a,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:b,nonceManager:p,to:m,type:E,value:P,...w}=t,g=await(async()=>{if(!n||!p||typeof b<"u")return b;const S=Z(n),I=i?i.id:await _(e,jr,"getChainId")({});return await p.consume({address:S.address,chainId:I,client:e})})();tn(t);const y=i?.formatters?.transactionRequest?.format,v=(y||Vn)({...Nr(w,{format:y}),account:n?Z(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:o,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:g,to:m,type:E,value:P},"fillTransaction");try{const S=await e.request({method:"eth_fillTransaction",params:[v]}),A=(i?.formatters?.transaction?.format||Di)(S.tx);delete A.blockHash,delete A.blockNumber,delete A.r,delete A.s,delete A.transactionIndex,delete A.v,delete A.yParity,A.data=A.input,A.gas&&(A.gas=t.gas??A.gas),A.gasPrice&&(A.gasPrice=t.gasPrice??A.gasPrice),A.maxFeePerBlobGas&&(A.maxFeePerBlobGas=t.maxFeePerBlobGas??A.maxFeePerBlobGas),A.maxFeePerGas&&(A.maxFeePerGas=t.maxFeePerGas??A.maxFeePerGas),A.maxPriorityFeePerGas&&(A.maxPriorityFeePerGas=t.maxPriorityFeePerGas??A.maxPriorityFeePerGas),A.nonce&&(A.nonce=t.nonce??A.nonce);const $=await(async()=>{if(typeof i?.fees?.baseFeeMultiplier=="function"){const B=await _(e,xe,"getBlock")({});return i.fees.baseFeeMultiplier({block:B,client:e,request:t})}return i?.fees?.baseFeeMultiplier??1.2})();if($<1)throw new lu;const R=10**($.toString().split(".")[1]?.length??0),j=B=>B*BigInt(Math.ceil($*R))/BigInt(R);return A.maxFeePerGas&&!t.maxFeePerGas&&(A.maxFeePerGas=j(A.maxFeePerGas)),A.gasPrice&&!t.gasPrice&&(A.gasPrice=j(A.gasPrice)),{raw:S.raw,transaction:{from:v.from,...A}}}catch(S){throw sp(S,{...t,chain:e.chain})}}const ip=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ta=new Map,os=new Nn(128);async function Iu(e,t){let n=t;n.account??=e.account,n.parameters??=ip;const{account:r,chain:s=e.chain,nonceManager:i,parameters:o}=n,a=(()=>{if(typeof s?.prepareTransactionRequest=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s?.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await _(e,jr,"getChainId")({}),c))}const f=r&&Z(r);let d=n.nonce;if(o.includes("nonce")&&typeof d>"u"&&f&&i){const g=await u();d=await i.consume({address:f.address,chainId:g,client:e})}a?.fn&&a.runAt?.includes("beforeFillTransaction")&&(n=await a.fn({...n,chain:s},{phase:"beforeFillTransaction"}),d??=n.nonce);const h=((o.includes("blobVersionedHashes")||o.includes("sidecars"))&&n.kzg&&n.blobs||os.get(e.uid)===!1||!["fees","gas"].some(y=>o.includes(y))?!1:!!(o.includes("chainId")&&typeof n.chainId!="number"||o.includes("nonce")&&typeof d!="number"||o.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||o.includes("gas")&&typeof n.gas!="bigint"))?await _(e,Au,"fillTransaction")({...n,nonce:d}).then(g=>{const{chainId:y,from:x,gas:v,gasPrice:S,nonce:I,maxFeePerBlobGas:A,maxFeePerGas:$,maxPriorityFeePerGas:k,type:R,...j}=g.transaction;return os.set(e.uid,!0),{...n,...x?{from:x}:{},...R?{type:R}:{},...typeof y<"u"?{chainId:y}:{},...typeof v<"u"?{gas:v}:{},...typeof S<"u"?{gasPrice:S}:{},...typeof I<"u"?{nonce:I}:{},...typeof A<"u"?{maxFeePerBlobGas:A}:{},...typeof $<"u"?{maxFeePerGas:$}:{},...typeof k<"u"?{maxPriorityFeePerGas:k}:{},..."nonceKey"in j&&typeof j.nonceKey<"u"?{nonceKey:j.nonceKey}:{}}}).catch(g=>{const y=g;return y.name!=="TransactionExecutionError"||y.walk?.(v=>{const S=v;return S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"})&&os.set(e.uid,!1),n}):n;d??=h.nonce,n={...h,...f?{from:f?.address}:{},...d?{nonce:d}:{}};const{blobs:b,gas:p,kzg:m,type:E}=n;a?.fn&&a.runAt?.includes("beforeFillParameters")&&(n=await a.fn({...n,chain:s},{phase:"beforeFillParameters"}));let P;async function w(){return P||(P=await _(e,xe,"getBlock")({blockTag:"latest"}),P)}if(o.includes("nonce")&&typeof d>"u"&&f&&!i&&(n.nonce=await _(e,Hi,"getTransactionCount")({address:f.address,blockTag:"pending"})),(o.includes("blobVersionedHashes")||o.includes("sidecars"))&&b&&m){const g=yu({blobs:b,kzg:m});if(o.includes("blobVersionedHashes")){const y=Jh({commitments:g,to:"hex"});n.blobVersionedHashes=y}if(o.includes("sidecars")){const y=gu({blobs:b,commitments:g,kzg:m}),x=np({blobs:b,commitments:g,proofs:y,to:"hex"});n.sidecars=x}}if(o.includes("chainId")&&(n.chainId=await u()),(o.includes("fees")||o.includes("type"))&&typeof E>"u")try{n.type=rp(n)}catch{let g=ta.get(e.uid);typeof g>"u"&&(g=typeof(await w())?.baseFeePerGas=="bigint",ta.set(e.uid,g)),n.type=g?"eip1559":"legacy"}if(o.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const g=await w(),{maxFeePerGas:y,maxPriorityFeePerGas:x}=await Vs(e,{block:g,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<x)throw new _h({maxPriorityFeePerGas:x});n.maxPriorityFeePerGas=x,n.maxFeePerGas=y}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Li;if(typeof n.gasPrice>"u"){const g=await w(),{gasPrice:y}=await Vs(e,{block:g,chain:s,request:n,type:"legacy"});n.gasPrice=y}}return o.includes("gas")&&typeof p>"u"&&(n.gas=await _(e,Vi,"estimateGas")({...n,account:f,prepare:f?.type==="local"?[]:["blobVersionedHashes"]})),a?.fn&&a.runAt?.includes("afterFillParameters")&&(n=await a.fn({...n,chain:s},{phase:"afterFillParameters"})),tn(n),delete n.parameters,n}async function Vi(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?Z(n):void 0,i=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const o=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await du({authorization:t.authorizationList[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:h,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:w,value:g,stateOverride:y,...x}=r?await Iu(e,{...t,parameters:i,to:o}):t;if(b&&t.gas!==b)return b;const S=(typeof d=="bigint"?N(d):void 0)||l,I=ji(y);tn(t);const A=e.chain?.formatters?.transactionRequest?.format,k=(A||Vn)({...Nr(x,{format:A}),account:s,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:h,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:w,to:o,value:g},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:I?[k,S??e.experimental_blockTag??"latest",I]:S?[k,S]:[k]}))}catch(o){throw Nh(o,{...t,account:s,chain:e.chain})}}async function op(e,t){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=t,c=Be({abi:n,args:s,functionName:i});try{return await _(e,Vi,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?Z(a.account):void 0;throw Yt(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:f?.address})}}async function ap(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?N(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function cp(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const up=new Map,fp=new Map;function dp(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,up),r=t(e,fp);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function lp(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=dp(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const hp=e=>`blockNumber.${e}`;async function Kn(e,{cacheTime:t=e.cacheTime}={}){const n=await lp(()=>e.request({method:"eth_blockNumber"}),{cacheKey:hp(e.uid),cacheTime:t});return BigInt(n)}async function pp(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?N(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Se(i)}async function Ws(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?N(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(i!=="0x")return i}function nn(e,t){if(!de(e,{strict:!1}))throw new He({address:e});if(!de(t,{strict:!1}))throw new He({address:t});return e.toLowerCase()===t.toLowerCase()}const na="/docs/contract/decodeEventLog";function gr(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...a]=s;if(!o)throw new Hf({docsPath:na});const c=t.find(p=>p.type==="event"&&o===Or(Ee(p)));if(!(c&&"name"in c)||c.type!=="event")throw new Gf(o,{docsPath:na});const{name:u,inputs:f}=c,d=f?.some(p=>!("name"in p&&p.name)),l=d?[]:{},h=f.map((p,m)=>[p,m]).filter(([p])=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const[m,E]=h[p],P=a[p];if(!P)throw new yi({abiItem:c,param:m});l[d?E:m.name||E]=bp({param:m,value:P})}const b=f.filter(p=>!("indexed"in p&&p.indexed));if(b.length>0){if(n&&n!=="0x")try{const p=_n(b,n);if(p)if(d)for(let m=0;m<f.length;m++)l[m]=l[m]??p.shift();else for(let m=0;m<b.length;m++)l[b[m].name]=p[m]}catch(p){if(i)throw p instanceof Da||p instanceof sc?new lr({abiItem:c,data:n,params:b,size:H(n)}):p}else if(i)throw new lr({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function bp({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(_n([e],t)||[])[0]}function Wi(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{const a=t.filter(f=>f.type==="event"&&o.topics[0]===Or(f));if(a.length===0)return null;let c,u;for(const f of a)try{c=gr({...o,abi:[f],strict:!0}),u=f;break}catch{}if(!c&&!s){u=a[0];try{c=gr({...o,abi:[u],strict:!1})}catch{const f=u.inputs?.some(d=>!("name"in d&&d.name));return{...o,args:f?[]:{},eventName:u.name}}}return!c||!u||i&&!i.includes(c.eventName)||!mp({args:c.args,inputs:u.inputs,matchArgs:n})?null:{...c,...o}}).filter(Boolean)}function mp(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,o,a){try{return i.type==="address"?nn(o,a):i.type==="string"||i.type==="bytes"?K(Jt(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(u=>u.name===i);return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):!1}function We(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Qi(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const u=c??!1,f=o??(i?[i]:void 0);let d=[];f&&(d=[f.flatMap(p=>Qn({abi:[p],eventName:p.name,args:o?void 0:a}))],i&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?N(r):r,toBlock:typeof s=="bigint"?N(s):s}]});const h=l.map(b=>We(b));return f?Wi({abi:f,args:a,logs:h,strict:u}):h}async function Cu(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:u}=t,f=o?Ot({abi:n,name:o}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return _(e,Qi,"getLogs")({address:r,args:s,blockHash:i,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}class yp extends C{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function gp(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[i,o,a,c,u,f,d]=await _(e,$e,"readContract")({abi:wp,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new yp({address:n}):o}}const wp=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function vp(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function xp(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?N(n):void 0,o=await e.request({method:"eth_feeHistory",params:[N(t),i||r,s]},{dedupe:!!i});return vp(o)}async function zr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>We(i));return!("abi"in t)||!t.abi?s:Wi({abi:t.abi,logs:s,strict:n})}async function Ep(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>We(i));return t.abi?Wi({abi:t.abi,logs:s,strict:n}):s}function ug(e,t){if(e.length!==t.length)throw new qa({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push($u(s,i))}return Ke(n)}function $u(e,t,n=!1){if(e==="address"){const o=t;if(!de(o))throw new He({address:o});return Ue(o.toLowerCase(),{size:n?32:null})}if(e==="string")return vt(t);if(e==="bytes")return t;if(e==="bool")return Ue(gi(t),{size:n?32:1});const r=e.match(Ei);if(r){const[o,a,c="256"]=r,u=Number.parseInt(c,10)/8;return N(t,{size:n?32:u,signed:a==="int"})}const s=e.match(cc);if(s){const[o,a]=s;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new Va({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return Ue(t,{dir:"right",size:n?32:null})}const i=e.match(H0);if(i&&Array.isArray(t)){const[o,a]=i,c=[];for(let u=0;u<t.length;u++)c.push($u(a,t[u],!0));return c.length===0?"0x":Ke(c)}throw new Yf(e)}async function Pp({address:e,authorization:t,signature:n}){return nn(lt(e),await du({authorization:t,signature:n}))}const er=new Nn(8192);function Sp(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(er.get(n))return er.get(n);const r=e().finally(()=>er.delete(n));return er.set(n,r),r}async function wr(e){return new Promise(t=>setTimeout(t,e))}function Rn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await wr(f),o({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}function Ap(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(i?.exclude?.includes(u))throw new ht(new Error("method not supported"),{method:u});if(i?.include&&!i.include.includes(u))throw new ht(new Error("method not supported"),{method:u});const f=s?vt(`${c}.${G(n)}`):void 0;return Sp(()=>Rn(async()=>{try{return await e(n)}catch(d){const l=d;switch(l.code){case hn.code:throw new hn(l);case pn.code:throw new pn(l);case bn.code:throw new bn(l,{method:n.method});case mn.code:throw new mn(l);case Et.code:throw new Et(l);case ct.code:throw new ct(l);case yn.code:throw new yn(l);case it.code:throw new it(l);case Kt.code:throw new Kt(l);case ht.code:throw new ht(l,{method:n.method});case Zt.code:throw new Zt(l);case gn.code:throw new gn(l);case ee.code:throw new ee(l);case wn.code:throw new wn(l);case vn.code:throw new vn(l);case xn.code:throw new xn(l);case En.code:throw new En(l);case Pt.code:throw new Pt(l);case Pn.code:throw new Pn(l);case Sn.code:throw new Sn(l);case An.code:throw new An(l);case In.code:throw new In(l);case Cn.code:throw new Cn(l);case $n.code:throw new $n(l);case Bn.code:throw new Bn(l);case 5e3:throw new ee(l);default:throw d instanceof C?d:new gl(l)}}},{delay:({count:d,error:l})=>{if(l&&l instanceof gt){const h=l?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>Ip(d)}),{enabled:s,id:f})}}function Ip(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Zt.code||e.code===Et.code:e instanceof gt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class Cp extends C{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:i,urls:o}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(a=>`    ${Un(a)}`)],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class $p extends C{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Un(n)}`,`Response: ${G(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Bp extends C{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Op="0x556f1830",Bu={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Tp(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:i}=Ac({data:r,abi:[Bu]}),[o,a,c,u,f]=i,{ccipRead:d}=e,l=d&&typeof d?.request=="function"?d.request:Ou;try{if(!nn(s,o))throw new Bp({sender:o,to:s});const h=a.includes(Ln)?await Rc({data:c,ccipRequest:l}):await l({data:c,sender:o,urls:a}),{data:b}=await Wn(e,{blockNumber:t,blockTag:n,data:Ae([u,Ze([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return b}catch(h){throw new Cp({callbackSelector:u,cause:h,data:r,extraData:f,sender:o,urls:a})}}async function Ou({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const i=n[s],o=i.includes("{data}")?"GET":"POST",a=o==="POST"?{data:e,sender:t}:void 0,c=o==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(i.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:o});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new gt({body:a,details:f?.error?G(f.error):u.statusText,headers:u.headers,status:u.status,url:i});continue}if(!Pe(f)){r=new $p({result:f,url:i});continue}return f}catch(u){r=new gt({body:a,details:u.message,url:i})}}throw r}const Rp=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Ou,offchainLookup:Tp,offchainLookupAbiItem:Bu,offchainLookupSignature:Op},Symbol.toStringTag,{value:"Module"}));function fg(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const i=typeof s=="function"?s(r):s,o={...r,...i};return Object.assign(o,{extend:n(o)})}}return Object.assign(t,{extend:n(t)})}const Tu={"0x0":"reverted","0x1":"success"};function Ru(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>We(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Se(e.transactionIndex):null,status:e.status?Tu[e.status]:null,type:e.type?pu[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function dg(e){const{source:t}=e,n=new Map,r=new Nn(8192),s=new Map,i=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a}),f=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});const d=await f;return await t.set({address:o,chainId:a},d),r.set(u,d),d},async increment({address:o,chainId:a}){const c=i({address:o,chainId:a}),u=n.get(c)??0;n.set(c,u+1)},async get({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a});let f=s.get(u);return f||(f=(async()=>{try{const l=await t.get({address:o,chainId:a,client:c}),h=r.get(u)??0;return h>0&&l<=h?h+1:(r.delete(u),l)}finally{this.reset({address:o,chainId:a})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:a}){const c=i({address:o,chainId:a});n.delete(c),s.delete(c)}}}function ku(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(t)},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function kp(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ra=kp();function Mp(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:d}=c;try{const l=await ku(async({signal:b})=>{const p={...c,body:Array.isArray(r)?G(r.map(w=>({jsonrpc:"2.0",id:w.id??ra.take(),...w}))):G({jsonrpc:"2.0",id:r.id??ra.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:d||(a>0?b:null)},m=new Request(e,p),E=await i?.(m,p)??{...p,url:e};return await s(E.url??e,E)},{errorInstance:new Uo({body:r,url:e}),timeout:a,signal:!0});o&&await o(l);let h;if(l.headers.get("Content-Type")?.startsWith("application/json"))h=await l.json();else{h=await l.text();try{h=JSON.parse(h||"{}")}catch(b){if(l.ok)throw b;h={error:h}}}if(!l.ok)throw new gt({body:r,details:G(h.error)||l.statusText,headers:l.headers,status:l.status,url:e});return h}catch(l){throw l instanceof gt||l instanceof Uo?l:new gt({body:r,cause:l,url:e})}}}}const Fp=`Ethereum Signed Message:
`;function Np(e){const t=typeof e=="string"?vt(e):typeof e.raw=="string"?e.raw:W(e.raw),n=vt(`${Fp}${H(t)}`);return Ae([n,t])}function Mu(e,t){return K(Np(e),t)}class _p extends C{constructor({domain:t}){super(`Invalid domain "${G(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class jp extends C{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class zp extends C{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Up(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,a)=>{for(const c of o){const{name:u,type:f}=c,d=a[u],l=f.match(Ei);if(l&&(typeof d=="number"||typeof d=="bigint")){const[p,m,E]=l;N(d,{signed:m==="int",size:Number.parseInt(E,10)/8})}if(f==="address"&&typeof d=="string"&&!de(d))throw new He({address:d});const h=f.match(cc);if(h){const[p,m]=h;if(m&&H(d)!==Number.parseInt(m,10))throw new Va({expectedSize:Number.parseInt(m,10),givenSize:H(d)})}const b=s[f];b&&(Dp(f),i(b,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new _p({domain:t});i(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new jp({primaryType:r,types:s})}function Lp({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Dp(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new zp({type:e})}function qp(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Lp({domain:t}),...e.types};Up({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(Hp({domain:t,types:s})),r!=="EIP712Domain"&&i.push(Fu({data:n,primaryType:r,types:s})),K(Ae(i))}function Hp({domain:e,types:t}){return Fu({data:e,primaryType:"EIP712Domain",types:t})}function Fu({data:e,primaryType:t,types:n}){const r=Nu({data:e,primaryType:t,types:n});return K(r)}function Nu({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Gp({primaryType:t,types:n})];for(const i of n[t]){const[o,a]=ju({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(a)}return Ze(r,s)}function Gp({primaryType:e,types:t}){const n=Ge(Vp({primaryType:e,types:t}));return K(n)}function Vp({primaryType:e,types:t}){let n="";const r=_u({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function _u({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])_u({primaryType:i.type,types:t},n);return n}function ju({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},K(Nu({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},K(r)];if(n==="string")return[{type:"bytes32"},K(Ge(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>ju({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},K(Ze(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}const Wp="0x6492649264926492649264926492649264926492649264926492649264926492";class Qp extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Kp={checksum:new Qp(8192)},as=Kp.checksum;function zu(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=rc(Ml(e));return n==="Bytes"?r:Ce(r)}const Zp=/^0x[a-fA-F0-9]{40}$/;function Ur(e,t={}){const{strict:n=!0}=t;if(!Zp.test(e))throw new sa({address:e,cause:new Yp});if(n){if(e.toLowerCase()===e)return;if(Uu(e)!==e)throw new sa({address:e,cause:new Jp})}}function Uu(e){if(as.has(e))return as.get(e);Ur(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=zu(Nl(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return as.set(e,s),s}function Qs(e,t={}){const{strict:n=!0}=t??{};try{return Ur(e,{strict:n}),!0}catch{return!1}}class sa extends U{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Yp extends U{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Jp extends U{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Xp=/^(.*)\[([0-9]*)\]$/,eb=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Lu=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ia=2n**256n-1n;function Gt(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=Yi(t.type);if(i){const[o,a]=i;return nb(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return ob(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return tb(e,{checksum:r});if(t.type==="bool")return rb(e);if(t.type.startsWith("bytes"))return sb(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return ib(e,t);if(t.type==="string")return ab(e,{staticPosition:s});throw new Xi(t.type)}const oa=32,Ks=32;function tb(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=>n?Uu(i):i)(Ce(jl(r,-20))),32]}function nb(e,t,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const c=qe(e.readBytes(Ks)),u=i+c,f=u+oa;e.setPosition(u);const d=qe(e.readBytes(oa)),l=kn(t);let h=0;const b=[];for(let p=0;p<d;++p){e.setPosition(f+(l?p*32:h));const[m,E]=Gt(e,t,{checksumAddress:r,staticPosition:f});h+=E,b.push(m)}return e.setPosition(i+32),[b,32]}if(kn(t)){const c=qe(e.readBytes(Ks)),u=i+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Gt(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(i+32),[f,32]}let o=0;const a=[];for(let c=0;c<s;++c){const[u,f]=Gt(e,t,{checksumAddress:r,staticPosition:i+o});o+=f,a.push(u)}return[a,o]}function rb(e){return[Ul(e.readBytes(32),{size:32}),32]}function sb(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=qe(e.readBytes(32));e.setPosition(n+o);const a=qe(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Ce(c),32]}return[Ce(e.readBytes(Number.parseInt(s,10),32)),32]}function ib(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?zl(s,{signed:n}):qe(s,{signed:n}),32]}function ob(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=t.components.length===0||t.components.some(({name:c})=>!c),o=i?[]:{};let a=0;if(kn(t)){const c=qe(e.readBytes(Ks)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,h]=Gt(e,d,{checksumAddress:r,staticPosition:u});a+=h,o[i?f:d?.name]=l}return e.setPosition(s+32),[o,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=Gt(e,u,{checksumAddress:r,staticPosition:s});o[i?c:u?.name]=f,a+=d}return[o,a]}function ab(e,{staticPosition:t}){const n=qe(e.readBytes(32)),r=t+n;e.setPosition(r);const s=qe(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=Ll(Hc(i));return e.setPosition(t+32),[o,32]}function cb({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Ki({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Ki({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Yi(r.type);if(s){const[i,o]=s;return fb(n,{checksumAddress:e,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return bb(n,{checksumAddress:e,parameter:r});if(r.type==="address")return ub(n,{checksum:e});if(r.type==="bool")return lb(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=Lu.exec(r.type)??[];return hb(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return db(n,{type:r.type});if(r.type==="string")return pb(n);throw new Xi(r.type)}function Zi(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=le(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(ne(t+s,{size:32})),r.push(a),s+=le(a)):n.push(a)}return Ie(...n,...r)}function ub(e,t){const{checksum:n=!1}=t;return Ur(e,{strict:n}),{dynamic:!1,encoded:St(e.toLowerCase())}}function fb(e,t){const{checksumAddress:n,length:r,parameter:s}=t,i=r===null;if(!Array.isArray(e))throw new Sb(e);if(!i&&e.length!==r)throw new Pb({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const u=Ki({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(o=!0),a.push(u)}if(i||o){const c=Zi(a);if(i){const u=ne(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ie(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Ie(...a.map(({encoded:c})=>c))}}function db(e,{type:t}){const[,n]=t.split("bytes"),r=le(e);if(!n){let s=e;return r%32!==0&&(s=At(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Ie(St(ne(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new qu({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:At(e)}}function lb(e){if(typeof e!="boolean")throw new U(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:St(Gc(e))}}function hb(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Qc({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ne(e,{size:32,signed:t})}}function pb(e){const t=Mi(e),n=Math.ceil(le(t)/32),r=[];for(let s=0;s<n;s++)r.push(At(Re(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Ie(At(ne(le(t),{size:32})),...r)}}function bb(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,u=Ki({checksumAddress:n,parameter:a,value:e[c]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Zi(i):Ie(...i.map(({encoded:o})=>o))}}function Yi(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function kn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(kn);const n=Yi(e.type);return!!(n&&kn({...e,type:n[1]}))}const mb={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new wb({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new gb({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new aa({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new aa({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function yb(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(mb);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class aa extends U{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class gb extends U{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class wb extends U{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function vb(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof t=="string"?qc(t):t,o=yb(i);if(Lt(i)===0&&e.length>0)throw new Eb;if(Lt(i)&&Lt(i)<32)throw new xb({data:typeof t=="string"?t:Ce(t),parameters:e,size:Lt(i)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];o.setPosition(a);const[d,l]=Gt(o,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function Ji(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Hu({expectedLength:e.length,givenLength:t.length});const s=cb({checksumAddress:r,parameters:e,values:t}),i=Zi(s);return i.length===0?"0x":i}function Zs(e,t){if(e.length!==t.length)throw new Hu({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(Zs.encode(s,i))}return Ie(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Ur(c),St(c.toLowerCase(),s?32:0)}if(n==="string")return Mi(r);if(n==="bytes")return r;if(n==="bool")return St(Gc(r),s?32:1);const i=n.match(Lu);if(i){const[c,u,f="256"]=i,d=Number.parseInt(f,10)/8;return ne(r,{size:s?32:d,signed:u==="int"})}const o=n.match(eb);if(o){const[c,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new qu({expectedSize:Number.parseInt(u,10),value:r});return At(r,s?32:0)}const a=n.match(Xp);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":Ie(...f)}throw new Xi(n)}e.encode=t})(Zs||(Zs={}));function Du(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?No(e):e}class xb extends U{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Ut(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Eb extends U{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Pb extends U{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class qu extends U{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${le(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Hu extends U{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Sb extends U{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Xi extends U{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class Gu extends wi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,v0(t);const r=Ir(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),at(i)}update(t){return Wt(this),this.iHash.update(t),this}digestInto(t){Wt(this),xt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Vu=(e,t,n)=>new Gu(e,t).update(n).digest();Vu.create=(e,t)=>new Gu(e,t);const oe=BigInt(0),re=BigInt(1),bt=BigInt(2),Ab=BigInt(3),Wu=BigInt(4),Qu=BigInt(5),Ku=BigInt(8);function ie(e,t){const n=e%t;return n>=oe?n:t+n}function pe(e,t,n){let r=e;for(;t-- >oe;)r*=r,r%=n;return r}function Ys(e,t){if(e===oe)throw new Error("invert: expected non-zero number");if(t<=oe)throw new Error("invert: expected positive modulus, got "+t);let n=ie(e,t),r=t,s=oe,i=re;for(;n!==oe;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==re)throw new Error("invert: does not exist");return ie(s,t)}function Zu(e,t){const n=(e.ORDER+re)/Wu,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Ib(e,t){const n=(e.ORDER-Qu)/Ku,r=e.mul(t,bt),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,bt),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Cb(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-re,n=0;for(;t%bt===oe;)t/=bt,n++;let r=bt;const s=eo(e);for(;ca(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Zu;let i=s.pow(r,t);const o=(t+re)/bt;return function(c,u){if(c.is0(u))return u;if(ca(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,i),l=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let b=1,p=c.sqr(l);for(;!c.eql(p,c.ONE);)if(b++,p=c.sqr(p),b===f)throw new Error("Cannot find square root");const m=re<<BigInt(f-b-1),E=c.pow(d,m);f=b,d=c.sqr(E),l=c.mul(l,d),h=c.mul(h,E)}return h}}function $b(e){return e%Wu===Ab?Zu:e%Ku===Qu?Ib:Cb(e)}const Bb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ob(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Bb.reduce((r,s)=>(r[s]="function",r),t);return kr(e,n)}function Tb(e,t,n){if(n<oe)throw new Error("invalid exponent, negatives unsupported");if(n===oe)return e.ONE;if(n===re)return t;let r=e.ONE,s=t;for(;n>oe;)n&re&&(r=e.mul(r,s)),s=e.sqr(s),n>>=re;return r}function Yu(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function ca(e,t){const n=(e.ORDER-re)/bt,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Ju(e,t){t!==void 0&&dn(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function eo(e,t,n=!1,r={}){if(e<=oe)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=Ju(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:Rr(s),ZERO:oe,ONE:re,create:c=>ie(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return oe<=c&&c<e},is0:c=>c===oe,isOdd:c=>(c&re)===re,neg:c=>ie(-c,e),eql:(c,u)=>c===u,sqr:c=>ie(c*c,e),add:(c,u)=>ie(c+u,e),sub:(c,u)=>ie(c-u,e),mul:(c,u)=>ie(c*u,e),pow:(c,u)=>Tb(a,c,u),div:(c,u)=>ie(c*Ys(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Ys(c,e),sqrt:r.sqrt||(c=>(o||(o=$b(e)),o(a,c))),toBytes:c=>n?jc(c,i):qn(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?_c(c):wt(c)},invertBatch:c=>Yu(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function Xu(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ef(e){const t=Xu(e);return t+Math.ceil(t/2)}function Rb(e,t,n=!1){const r=e.length,s=Xu(t),i=ef(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?_c(e):wt(e),a=ie(o,t-re)+re;return n?jc(a,s):qn(a,s)}const ua=BigInt(0),Js=BigInt(1);function cs(e,t){const n=t.negate();return e?n:t}function tf(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function us(e,t){tf(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=Rr(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function fa(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=Js);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function kb(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Mb(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const fs=new WeakMap,nf=new WeakMap;function ds(e){return nf.get(e)||1}function Fb(e,t){return{constTimeNegate:cs,hasPrecomputes(n){return ds(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>ua;)r&Js&&(s=s.add(i)),i=i.double(),r>>=Js;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=us(r,t),o=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let f=1;f<i;f++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=us(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:b}=fa(s,c,a);s=u,d?o=o.add(cs(h,r[b])):i=i.add(cs(l,r[f]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=us(n,t);for(let a=0;a<o.windows&&s!==ua;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=fa(s,a,o);if(s=c,!f){const l=r[u];i=i.add(d?l.negate():l)}}return i},getPrecomputes(n,r,s){let i=fs.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&fs.set(r,s(i))),i},wNAFCached(n,r,s){const i=ds(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=ds(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){tf(r,t),nf.set(n,r),fs.delete(n)}}}function Nb(e,t,n,r){kb(n,e),Mb(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Pl(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Rr(c),f=new Array(Number(u)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let l=o;for(let h=d;h>=0;h-=c){f.fill(o);for(let p=0;p<i;p++){const m=r[p],E=Number(m>>BigInt(h)&u);f[E]=f[E].add(n[p])}let b=o;for(let p=f.length-1,m=o;p>0;p--)m=m.add(f[p]),b=b.add(m);if(l=l.add(b),h!==0)for(let p=0;p<c;p++)l=l.double()}return l}function rf(e){return Ob(e.Fp),kr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ju(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function da(e){e.lowS!==void 0&&On("lowS",e.lowS),e.prehash!==void 0&&On("prehash",e.prehash)}function _b(e){const t=rf(e);kr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class jb extends Error{constructor(t=""){super(t)}}const je={Err:jb,_tlv:{encode:(e,t)=>{const{Err:n}=je;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Xn(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Xn(s.length/2|128):"";return Xn(e)+i+s+t},decode(e,t){const{Err:n}=je;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=je;if(e<ze)throw new t("integer: negative integers are not allowed");let n=Xn(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=je;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return wt(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=je,s=be("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=je,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function ls(e,t){return Tn(qn(e,t))}const ze=BigInt(0),Q=BigInt(1);BigInt(2);const hs=BigInt(3),zb=BigInt(4);function Ub(e){const t=_b(e),{Fp:n}=t,r=eo(t.n,t.nBitLength),s=t.toBytes||((w,g,y)=>{const x=g.toAffine();return br(Uint8Array.from([4]),n.toBytes(x.x),n.toBytes(x.y))}),i=t.fromBytes||(w=>{const g=w.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),x=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:x}});function o(w){const{a:g,b:y}=t,x=n.sqr(w),v=n.mul(x,w);return n.add(n.add(v,n.mul(w,g)),y)}function a(w,g){const y=n.sqr(g),x=o(w);return n.eql(y,x)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,hs),zb),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(w){return ki(w,Q,t.n)}function d(w){const{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:x,n:v}=t;if(g&&typeof w!="bigint"){if(Dn(w)&&(w=Tn(w)),typeof w!="string"||!g.includes(w.length))throw new Error("invalid private key");w=w.padStart(y*2,"0")}let S;try{S=typeof w=="bigint"?w:wt(be("private key",w,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof w)}return x&&(S=ie(S,v)),Ht("private key",S,Q,v),S}function l(w){if(!(w instanceof p))throw new Error("ProjectivePoint expected")}const h=Ho((w,g)=>{const{px:y,py:x,pz:v}=w;if(n.eql(v,n.ONE))return{x:y,y:x};const S=w.is0();g==null&&(g=S?n.ONE:n.inv(v));const I=n.mul(y,g),A=n.mul(x,g),$=n.mul(v,g);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}),b=Ho(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:g,y}=w.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");if(!a(g,y))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(g,y,x){if(g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y)||n.is0(y))throw new Error("y required");if(x==null||!n.isValid(x))throw new Error("z required");this.px=g,this.py=y,this.pz=x,Object.freeze(this)}static fromAffine(g){const{x:y,y:x}=g||{};if(!g||!n.isValid(y)||!n.isValid(x))throw new Error("invalid affine point");if(g instanceof p)throw new Error("projective point not allowed");const v=S=>n.eql(S,n.ZERO);return v(y)&&v(x)?p.ZERO:new p(y,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const y=Yu(n,g.map(x=>x.pz));return g.map((x,v)=>x.toAffine(y[v])).map(p.fromAffine)}static fromHex(g){const y=p.fromAffine(i(be("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return p.BASE.multiply(d(g))}static msm(g,y){return Nb(p,r,g,y)}_setWindowSize(g){P.setWindowSize(this,g)}assertValidity(){b(this)}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){l(g);const{px:y,py:x,pz:v}=this,{px:S,py:I,pz:A}=g,$=n.eql(n.mul(y,A),n.mul(S,v)),k=n.eql(n.mul(x,A),n.mul(I,v));return $&&k}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:y}=t,x=n.mul(y,hs),{px:v,py:S,pz:I}=this;let A=n.ZERO,$=n.ZERO,k=n.ZERO,R=n.mul(v,v),j=n.mul(S,S),B=n.mul(I,I),O=n.mul(v,S);return O=n.add(O,O),k=n.mul(v,I),k=n.add(k,k),A=n.mul(g,k),$=n.mul(x,B),$=n.add(A,$),A=n.sub(j,$),$=n.add(j,$),$=n.mul(A,$),A=n.mul(O,A),k=n.mul(x,k),B=n.mul(g,B),O=n.sub(R,B),O=n.mul(g,O),O=n.add(O,k),k=n.add(R,R),R=n.add(k,R),R=n.add(R,B),R=n.mul(R,O),$=n.add($,R),B=n.mul(S,I),B=n.add(B,B),R=n.mul(B,O),A=n.sub(A,R),k=n.mul(B,j),k=n.add(k,k),k=n.add(k,k),new p(A,$,k)}add(g){l(g);const{px:y,py:x,pz:v}=this,{px:S,py:I,pz:A}=g;let $=n.ZERO,k=n.ZERO,R=n.ZERO;const j=t.a,B=n.mul(t.b,hs);let O=n.mul(y,S),M=n.mul(x,I),T=n.mul(v,A),F=n.add(y,x),z=n.add(S,I);F=n.mul(F,z),z=n.add(O,M),F=n.sub(F,z),z=n.add(y,v);let L=n.add(S,A);return z=n.mul(z,L),L=n.add(O,T),z=n.sub(z,L),L=n.add(x,v),$=n.add(I,A),L=n.mul(L,$),$=n.add(M,T),L=n.sub(L,$),R=n.mul(j,z),$=n.mul(B,T),R=n.add($,R),$=n.sub(M,R),R=n.add(M,R),k=n.mul($,R),M=n.add(O,O),M=n.add(M,O),T=n.mul(j,T),z=n.mul(B,z),M=n.add(M,T),T=n.sub(O,T),T=n.mul(j,T),z=n.add(z,T),O=n.mul(M,z),k=n.add(k,O),O=n.mul(L,z),$=n.mul(F,$),$=n.sub($,O),O=n.mul(F,M),R=n.mul(L,R),R=n.add(R,O),new p($,k,R)}subtract(g){return this.add(g.negate())}is0(){return this.equals(p.ZERO)}wNAF(g){return P.wNAFCached(this,g,p.normalizeZ)}multiplyUnsafe(g){const{endo:y,n:x}=t;Ht("scalar",g,ze,x);const v=p.ZERO;if(g===ze)return v;if(this.is0()||g===Q)return this;if(!y||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,g,p.normalizeZ);let{k1neg:S,k1:I,k2neg:A,k2:$}=y.splitScalar(g),k=v,R=v,j=this;for(;I>ze||$>ze;)I&Q&&(k=k.add(j)),$&Q&&(R=R.add(j)),j=j.double(),I>>=Q,$>>=Q;return S&&(k=k.negate()),A&&(R=R.negate()),R=new p(n.mul(R.px,y.beta),R.py,R.pz),k.add(R)}multiply(g){const{endo:y,n:x}=t;Ht("scalar",g,Q,x);let v,S;if(y){const{k1neg:I,k1:A,k2neg:$,k2:k}=y.splitScalar(g);let{p:R,f:j}=this.wNAF(A),{p:B,f:O}=this.wNAF(k);R=P.constTimeNegate(I,R),B=P.constTimeNegate($,B),B=new p(n.mul(B.px,y.beta),B.py,B.pz),v=R.add(B),S=j.add(O)}else{const{p:I,f:A}=this.wNAF(g);v=I,S=A}return p.normalizeZ([v,S])[0]}multiplyAndAddUnsafe(g,y,x){const v=p.BASE,S=(A,$)=>$===ze||$===Q||!A.equals(v)?A.multiplyUnsafe($):A.multiply($),I=S(this,y).add(S(g,x));return I.is0()?void 0:I}toAffine(g){return h(this,g)}isTorsionFree(){const{h:g,isTorsionFree:y}=t;if(g===Q)return!0;if(y)return y(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:y}=t;return g===Q?this:y?y(p,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return On("isCompressed",g),this.assertValidity(),s(p,this,g)}toHex(g=!0){return On("isCompressed",g),Tn(this.toRawBytes(g))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:m,nBitLength:E}=t,P=Fb(p,m?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:f}}function Lb(e){const t=rf(e);return kr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Db(e){const t=Lb(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(B){return ie(B,r)}function u(B){return Ys(B,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=Ub({...t,toBytes(B,O,M){const T=O.toAffine(),F=n.toBytes(T.x),z=br;return On("isCompressed",M),M?z(Uint8Array.from([O.hasEvenY()?2:3]),F):z(Uint8Array.from([4]),F,n.toBytes(T.y))},fromBytes(B){const O=B.length,M=B[0],T=B.subarray(1);if(O===o&&(M===2||M===3)){const F=wt(T);if(!ki(F,Q,n.ORDER))throw new Error("Point is not on curve");const z=l(F);let L;try{L=n.sqrt(z)}catch(se){const Y=se instanceof Error?": "+se.message:"";throw new Error("Point is not on curve"+Y)}const q=(L&Q)===Q;return(M&1)===1!==q&&(L=n.neg(L)),{x:F,y:L}}else if(O===a&&M===4){const F=n.fromBytes(T.subarray(0,n.BYTES)),z=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:F,y:z}}else{const F=o,z=a;throw new Error("invalid Point, expected length of "+F+", or uncompressed "+z+", got "+O)}}});function b(B){const O=r>>Q;return B>O}function p(B){return b(B)?c(-B):B}const m=(B,O,M)=>wt(B.slice(O,M));class E{constructor(O,M,T){Ht("r",O,Q,r),Ht("s",M,Q,r),this.r=O,this.s=M,T!=null&&(this.recovery=T),Object.freeze(this)}static fromCompact(O){const M=s;return O=be("compactSignature",O,M*2),new E(m(O,0,M),m(O,M,2*M))}static fromDER(O){const{r:M,s:T}=je.toSig(be("DER",O));return new E(M,T)}assertValidity(){}addRecoveryBit(O){return new E(this.r,this.s,O)}recoverPublicKey(O){const{r:M,s:T,recovery:F}=this,z=v(be("msgHash",O));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const L=F===2||F===3?M+t.n:M;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=(F&1)===0?"02":"03",ve=f.fromHex(q+ls(L,n.BYTES)),se=u(L),Y=c(-z*se),Rt=c(T*se),Xe=f.BASE.multiplyAndAddUnsafe(ve,Y,Rt);if(!Xe)throw new Error("point at infinify");return Xe.assertValidity(),Xe}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return pr(this.toDERHex())}toDERHex(){return je.hexFromSig(this)}toCompactRawBytes(){return pr(this.toCompactHex())}toCompactHex(){const O=s;return ls(this.r,O)+ls(this.s,O)}}const P={isValidPrivateKey(B){try{return d(B),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const B=ef(t.n);return Rb(t.randomBytes(B),t.n)},precompute(B=8,O=f.BASE){return O._setWindowSize(B),O.multiply(BigInt(3)),O}};function w(B,O=!0){return f.fromPrivateKey(B).toRawBytes(O)}function g(B){if(typeof B=="bigint")return!1;if(B instanceof f)return!0;const M=be("key",B).length,T=n.BYTES,F=T+1,z=2*T+1;if(!(t.allowedPrivateKeyLengths||s===F))return M===F||M===z}function y(B,O,M=!0){if(g(B)===!0)throw new Error("first arg must be private key");if(g(O)===!1)throw new Error("second arg must be public key");return f.fromHex(O).multiply(d(B)).toRawBytes(M)}const x=t.bits2int||function(B){if(B.length>8192)throw new Error("input is too large");const O=wt(B),M=B.length*8-i;return M>0?O>>BigInt(M):O},v=t.bits2int_modN||function(B){return c(x(B))},S=Rr(i);function I(B){return Ht("num < 2^"+i,B,ze,S),qn(B,s)}function A(B,O,M=$){if(["recovered","canonical"].some(ft=>ft in M))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:F}=t;let{lowS:z,prehash:L,extraEntropy:q}=M;z==null&&(z=!0),B=be("msgHash",B),da(M),L&&(B=be("prehashed msgHash",T(B)));const ve=v(B),se=d(O),Y=[I(se),I(ve)];if(q!=null&&q!==!1){const ft=q===!0?F(n.BYTES):q;Y.push(be("extraEntropy",ft))}const Rt=br(...Y),Xe=ve;function Gr(ft){const kt=x(ft);if(!h(kt))return;const Vr=u(kt),on=f.BASE.multiply(kt).toAffine(),dt=c(on.x);if(dt===ze)return;const an=c(Vr*c(Xe+dt*se));if(an===ze)return;let Mt=(on.x===dt?0:2)|Number(on.y&Q),po=an;return z&&b(an)&&(po=p(an),Mt^=1),new E(dt,po,Mt)}return{seed:Rt,k2sig:Gr}}const $={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};function R(B,O,M=$){const{seed:T,k2sig:F}=A(B,O,M),z=t;return Sl(z.hash.outputLen,z.nByteLength,z.hmac)(T,F)}f.BASE._setWindowSize(8);function j(B,O,M,T=k){const F=B;O=be("msgHash",O),M=be("publicKey",M);const{lowS:z,prehash:L,format:q}=T;if(da(T),"strict"in T)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const ve=typeof F=="string"||Dn(F),se=!ve&&!q&&typeof F=="object"&&F!==null&&typeof F.r=="bigint"&&typeof F.s=="bigint";if(!ve&&!se)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Y,Rt;try{if(se&&(Y=new E(F.r,F.s)),ve){try{q!=="compact"&&(Y=E.fromDER(F))}catch(Mt){if(!(Mt instanceof je.Err))throw Mt}!Y&&q!=="der"&&(Y=E.fromCompact(F))}Rt=f.fromHex(M)}catch{return!1}if(!Y||z&&Y.hasHighS())return!1;L&&(O=t.hash(O));const{r:Xe,s:Gr}=Y,ft=v(O),kt=u(Gr),Vr=c(ft*kt),on=c(Xe*kt),dt=f.BASE.multiplyAndAddUnsafe(Rt,Vr,on)?.toAffine();return dt?c(dt.x)===Xe:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:y,sign:R,verify:j,ProjectivePoint:f,Signature:E,utils:P}}function qb(e){return{hash:e,hmac:(t,...n)=>Vu(e,t,I0(...n)),randomBytes:C0}}function Hb(e,t){const n=r=>Db({...e,...qb(r)});return{...n(t),create:n}}const sf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),la=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Gb=BigInt(0),Vb=BigInt(1),Xs=BigInt(2),ha=(e,t)=>(e+t/Xs)/t;function Wb(e){const t=sf,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=pe(f,n,t)*f%t,l=pe(d,n,t)*f%t,h=pe(l,Xs,t)*u%t,b=pe(h,s,t)*h%t,p=pe(b,i,t)*b%t,m=pe(p,a,t)*p%t,E=pe(m,c,t)*m%t,P=pe(E,a,t)*p%t,w=pe(P,n,t)*f%t,g=pe(w,o,t)*b%t,y=pe(g,r,t)*u%t,x=pe(y,Xs,t);if(!ei.eql(ei.sqr(x),e))throw new Error("Cannot find square root");return x}const ei=eo(sf,void 0,void 0,{sqrt:Wb}),to=Hb({a:Gb,b:BigInt(7),Fp:ei,n:la,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=la,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Vb*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=ha(i*e,t),c=ha(-r*e,t);let u=ie(e-a*n-c*s,t),f=ie(-a*r-c*i,t);const d=u>o,l=f>o;if(d&&(u=t-u),l&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},Eu),Qb=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:to},Symbol.toStringTag,{value:"Module"}));function of(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new ps({signature:e});if(typeof e.s>"u")throw new ps({signature:e});if(n&&typeof e.yParity>"u")throw new ps({signature:e});if(e.r<0n||e.r>ia)throw new t1({value:e.r});if(e.s<0n||e.s>ia)throw new n1({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new ro({value:e.yParity})}function Kb(e){return af(Ce(e))}function af(e){if(e.length!==130&&e.length!==132)throw new e1({signature:e});const t=BigInt(Re(e,0,32)),n=BigInt(Re(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return no(s)}catch{throw new ro({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Zb(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Yb(e)}function Yb(e){const t=typeof e=="string"?af(e):e instanceof Uint8Array?Kb(e):typeof e.r=="string"?Xb(e):e.v?Jb(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return of(t),t}function Jb(e){return{r:e.r,s:e.s,yParity:no(e.v)}}function Xb(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=no(n)),typeof r!="number")throw new ro({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function no(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new r1({value:e})}class e1 extends U{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${le(Kl(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class ps extends U{constructor({signature:t}){super(`Signature \`${Dc(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class t1 extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class n1 extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class ro extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class r1 extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function s1(e,t={}){return typeof e.chainId=="string"?i1(e):{...e,...t.signature}}function i1(e){const{address:t,chainId:n,nonce:r}=e,s=Zb(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const o1="0x8010801080108010801080108010801080108010801080108010801080108010",a1=Du("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function cf(e){if(typeof e=="string"){if(Re(e,-32)!==o1)throw new f1(e)}else of(e.authorization)}function c1(e){cf(e);const t=Wc(Re(e,-64,-32)),n=Re(e,-t-64,-64),r=Re(e,0,-t-64),[s,i,o]=vb(a1,n);return{authorization:s1({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:i}:{}}}function u1(e){try{return cf(e),!0}catch{return!1}}let f1=class extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function hg(e){const{address:t,data:n,signature:r,to:s="hex"}=e,i=Ke([Ze([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Wp]);return s==="hex"?i:ge(i)}function d1(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function l1(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Se(e.nonce):void 0,storageProof:e.storageProof?d1(e.storageProof):void 0}}async function h1(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?N(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,o||i]});return l1(a)}async function p1(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?N(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function so(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i,sender:o,nonce:a}){const c=r||"latest",u=n!==void 0?N(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,N(i)]},{dedupe:!0}):typeof i=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,N(i)]},{dedupe:!!u}):o&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[o,N(a)]},{dedupe:!0})),!f)throw new $c({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:i});return(e.chain?.formatters?.transaction?.format||Di)(f,"getTransaction")}async function b1(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([_(e,Kn,"getBlockNumber")({}),t?_(e,so,"getTransaction")({hash:t}):void 0]),i=n?.blockNumber||s?.blockNumber;return i?r-i+1n:0n}async function cr(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Bc({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Ru)(n,"getTransactionReceipt")}async function m1(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return en({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let b=0,p=0;for(let P=0;P<u.length;P++){const{abi:w,address:g,args:y,functionName:x}=u[P];try{const v=Be({abi:w,args:y,functionName:x});p+=(v.length-2)/2,f>0&&p>f&&h[b].length>0&&(b++,p=(v.length-2)/2,h[b]=[]),h[b]=[...h[b],{allowFailure:!0,callData:v,target:g}]}catch(v){const S=Yt(v,{abi:w,address:g,args:y,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!s)throw S;h[b]=[...h[b],{allowFailure:!0,callData:"0x",target:g}]}}const m=await Promise.allSettled(h.map(P=>_(e,$e,"readContract")({...l===null?{code:Fi}:{address:l},abi:dr,account:n,args:[P],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),E=[];for(let P=0;P<m.length;P++){const w=m[P];if(w.status==="rejected"){if(!s)throw w.reason;for(let y=0;y<h[P].length;y++)E.push({status:"failure",error:w.reason,result:void 0});continue}const g=w.value;for(let y=0;y<g.length;y++){const{returnData:x,success:v}=g[y],{callData:S}=h[P][y],{abi:I,address:A,functionName:$,args:k}=u[E.length];try{if(S==="0x")throw new Fn;if(!v)throw new Tr({data:x});const R=Tt({abi:I,args:k,data:x,functionName:$});E.push(s?{result:R,status:"success"}:R)}catch(R){const j=Yt(R,{abi:I,address:A,args:k,docsPath:"/docs/contract/multicall",functionName:$});if(!s)throw j;E.push({error:j,result:void 0,status:"failure"})}}}if(E.length!==u.length)throw new C("multicall results mismatch");return E}async function ti(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?Zc(l.blockOverrides):void 0,b=l.calls.map(m=>{const E=m,P=E.account?Z(E.account):void 0,w=E.abi?Be(E):E.data,g={...E,account:P,data:E.dataSuffix?Ae([w||"0x",E.dataSuffix]):w,from:E.from??P?.address};return tn(g),Vn(g)}),p=l.stateOverrides?ji(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:b,stateOverrides:p})}const f=(typeof n=="bigint"?N(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},f]})).map((l,h)=>({...bu(l),calls:l.calls.map((b,p)=>{const{abi:m,args:E,functionName:P,to:w}=s[h].calls[p],g=b.error?.data??b.returnData,y=BigInt(b.gasUsed),x=b.logs?.map(A=>We(A)),v=b.status==="0x1"?"success":"failure",S=m&&v==="success"&&g!=="0x"?Tt({abi:m,data:g,functionName:P}):null,I=(()=>{if(v==="success")return;let A;if(b.error?.data==="0x"?A=new Fn:b.error&&(A=new Tr(b.error)),!!A)return Yt(A,{abi:m??[],address:w??"0x",args:E,functionName:P??"<unknown>"})})();return{data:g,gasUsed:y,logs:x,status:v,...v==="success"?{result:S}:{error:I}}})}))}catch(c){const u=c,f=Fr(u,{});throw f instanceof Gn?u:f}}function ni(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new U("Unable to normalize signature.");return s}function ri(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Qs(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>ri(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>ri(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function uf(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return uf(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Qs(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Qs(n[r],{strict:!1}):!1)return o}}function ff(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Fo(e):e;return{...r,...n?{hash:Dt(r)}:{}}}function Lr(e,t,n){const{args:r=[],prepare:s=!0}=n??{},i=Zl(t,{strict:!1}),o=e.filter(u=>i?u.type==="function"||u.type==="error"?df(u)===Re(t,0,4):u.type==="event"?Dt(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new vr({name:t});if(o.length===1)return{...o[0],...s?{hash:Dt(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Dt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?ri(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=uf(u.inputs,a.inputs,r);if(d)throw new g1({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=o;return{...u,overloads:f}})();if(!c)throw new vr({name:t});return{...c,...s?{hash:Dt(c)}:{}}}function df(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Lr(n,r)}return e[0]})();return Re(Dt(t),0,4)}function y1(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Lr(r,s)}return e[0]})(),n=typeof t=="string"?t:hr(t);return ni(n)}function Dt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Lr(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:zu(Mi(y1(t)))}class g1 extends U{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${ni(hr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${ni(hr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class vr extends U{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function w1(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,o]=e;return[x1(i),o]}return e})(),{bytecode:r,args:s}=n;return Ie(r,t.inputs?.length&&s?.length?Ji(t.inputs,s):"0x")}function v1(e){return ff(e)}function x1(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new vr({name:"constructor"});return t}function E1(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[pa(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?pa([t,...r],t.name,{args:n}):t,i=P1(s),o=n.length>0?Ji(s.inputs,n):void 0;return o?Ie(i,o):i}function jt(e,t={}){return ff(e,t)}function pa(e,t,n){const r=Lr(e,t,n);if(r.type!=="function")throw new vr({name:t,type:"function"});return r}function P1(e){return df(e)}const S1="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Te="0x0000000000000000000000000000000000000000",A1="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function I1(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=t,u=t.account?Z(t.account):void 0;if(o&&!u)throw new C("`account` is required when `traceAssetChanges` is true");const f=u?w1(v1("constructor(bytes, bytes)"),{bytecode:Yc,args:[A1,E1(jt("function getBalance(address)"),[u.address])]}):void 0,d=o?await Promise.all(t.calls.map(async T=>{if(!T.data&&!T.abi)return;const{accessList:F}=await su(e,{account:u.address,...T,data:T.abi?Be(T):T.data});return F.map(({address:z,storageKeys:L})=>L.length>0?z:null)})).then(T=>T.flat().filter(Boolean)):[],l=await ti(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:f}],stateOverrides:i},{calls:d.map((T,F)=>({abi:[jt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:T,from:Te,nonce:F})),stateOverrides:[{address:Te,nonce:0}]}]:[],{calls:[...s,{}].map(T=>({...T,from:u?.address})),stateOverrides:i},...o?[{calls:[{data:f}]},{calls:d.map((T,F)=>({abi:[jt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:T,from:Te,nonce:F})),stateOverrides:[{address:Te,nonce:0}]},{calls:d.map((T,F)=>({to:T,abi:[jt("function decimals() returns (uint256)")],functionName:"decimals",from:Te,nonce:F})),stateOverrides:[{address:Te,nonce:0}]},{calls:d.map((T,F)=>({to:T,abi:[jt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Te,nonce:F})),stateOverrides:[{address:Te,nonce:0}]},{calls:d.map((T,F)=>({to:T,abi:[jt("function symbol() returns (string)")],functionName:"symbol",from:Te,nonce:F})),stateOverrides:[{address:Te,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=o?l[2]:l[0],[b,p,,m,E,P,w,g]=o?l:[],{calls:y,...x}=h,v=y.slice(0,-1)??[],S=b?.calls??[],I=p?.calls??[],A=[...S,...I].map(T=>T.status==="success"?ye(T.data):null),$=m?.calls??[],k=E?.calls??[],R=[...$,...k].map(T=>T.status==="success"?ye(T.data):null),j=(P?.calls??[]).map(T=>T.status==="success"?T.result:null),B=(g?.calls??[]).map(T=>T.status==="success"?T.result:null),O=(w?.calls??[]).map(T=>T.status==="success"?T.result:null),M=[];for(const[T,F]of R.entries()){const z=A[T];if(typeof F!="bigint"||typeof z!="bigint")continue;const L=j[T-1],q=B[T-1],ve=O[T-1],se=T===0?{address:S1,decimals:18,symbol:"ETH"}:{address:d[T-1],decimals:ve||L?Number(L??1):void 0,symbol:q??void 0};M.some(Y=>Y.token.address===se.address)||M.push({token:se,value:{pre:z,post:F,diff:F-z}})}return{assetChanges:M,block:x,results:v}}async function C1(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=a.account?Z(a.account):e.account,u=Be({abi:n,args:s,functionName:o});try{const{data:f}=await _(e,Wn,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=Tt({abi:n,args:s,functionName:o,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(f){throw Yt(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}async function Dr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const lf="0x6492649264926492649264926492649264926492649264926492649264926492";function $1(e){if(Re(e,-32)!==lf)throw new T1(e)}function B1(e){const{data:t,signature:n,to:r}=e;return Ie(Ji(Du("address, bytes, bytes"),[r,t,n]),lf)}function O1(e){try{return $1(e),!0}catch{return!1}}class T1 extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function R1({r:e,s:t,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new to.Signature(ye(e),ye(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:ge(o)}async function qr(e,t){const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:i=t.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??r?.contracts?.multicall3?.address}=t;if(r?.verifyHash)return await r.verifyHash(e,t);const a=(()=>{const c=t.signature;return Pe(c)?c:typeof c=="object"&&"r"in c&&"s"in c?R1(c):W(c)})();try{return u1(a)?await k1(e,{...t,multicallAddress:o,signature:a}):await M1(e,{...t,verifierAddress:i,signature:a})}catch(c){try{if(nn(lt(n),await cu({hash:s,signature:a})))return!0}catch{}if(c instanceof It)return!1;throw c}}async function k1(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:o}=t,{authorization:a,data:c,signature:u,to:f}=c1(t.signature);if(await Ws(e,{address:n,blockNumber:r,blockTag:s})===Ke(["0xef0100",a.address]))return await F1(e,{address:n,blockNumber:r,blockTag:s,hash:i,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:N(a.r,{size:32}),s:N(a.s,{size:32}),yParity:a.yParity};if(!await Pp({address:n,authorization:l}))throw new It;const b=await _(e,$e,"readContract")({...o?{address:o}:{code:Fi},authorizationList:[l],abi:dr,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Be({abi:za,functionName:"isValidSignature",args:[i,u]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new It}async function M1(e,t){const{address:n,factory:r,factoryData:s,hash:i,signature:o,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||O1(o)?o:B1({data:s,signature:o,to:r}))(),f=a?{to:a,data:Be({abi:wo,functionName:"isValidSig",args:[n,i,u]}),...c}:{data:Ni({abi:wo,args:[n,i,u],bytecode:nh}),...c},{data:d}=await _(e,Wn,"call")(f).catch(l=>{throw l instanceof Oc?new It:l});if(n0(d??"0x0"))return!0;throw new It}async function F1(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:o}=t;if((await _(e,$e,"readContract")({address:n,abi:za,args:[i,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Tc?new It:c})).startsWith("0x1626ba7e"))return!0;throw new It}class It extends Error{}async function N1(e,{address:t,message:n,factory:r,factoryData:s,signature:i,...o}){const a=Mu(n);return _(e,qr,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:i,...o})}async function _1(e,t){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:u,...f}=t,d=qp({message:o,primaryType:a,types:c,domain:u});return _(e,qr,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:i,...f})}const bs=new Map,ba=new Map;let j1=0;function Qe(e,t,n){const r=++j1,s=()=>bs.get(e)||[],i=()=>{const f=s();bs.set(e,f.filter(d=>d.id!==r))},o=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=ba.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}i()},a=s();if(bs.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const f in t)c[f]=((...d)=>{const l=s();if(l.length!==0)for(const h of l)h.fns[f]?.(...d)});const u=n(c);return typeof u=="function"&&ba.set(e,u),o}function rn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await n?.(a)??r;await wr(c);const u=async()=>{s&&(await e({unpoll:i}),await wr(r),u())};u()})(),i}function hf(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const a=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=G(["watchBlockNumber",e.uid,t,n,o]);return Qe(d,{onBlockNumber:r,onError:s},l=>rn(async()=>{try{const h=await _(e,Kn,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let b=c+1n;b<h;b++)l.onBlockNumber(b,c),c=b}(c===void 0||h>c)&&(l.onBlockNumber(h,c),c=h)}catch(h){l.onError?.(h)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=G(["watchBlockNumber",e.uid,t,n]);return Qe(d,{onBlockNumber:r,onError:s},l=>{let h=!0,b=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),{unsubscribe:m}=await p.subscribe({params:["newHeads"],onData(E){if(!h)return;const P=ye(E.result?.number);l.onBlockNumber(P,c),c=P},onError(E){l.onError?.(E)}});b=m,h||b()}catch(p){s?.(p)}})(),()=>b()})})()}async function z1(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:y})=>~~(1<<y)*200,timeout:c=18e4}=t,u=G(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,l,h,b=!1,p,m;const{promise:E,resolve:P,reject:w}=_i(),g=c?setTimeout(()=>{m?.(),p?.(),w(new cl({hash:s}))},c):void 0;return p=Qe(u,{onReplaced:i,resolve:P,reject:w},async y=>{if(h=await _(e,cr,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(g),y.resolve(h),p?.();return}m=_(e,hf,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(x){const v=I=>{clearTimeout(g),m?.(),I(),p?.()};let S=x;if(!b)try{if(h){if(r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;v(()=>y.resolve(h));return}if(n&&!d&&(b=!0,await Rn(async()=>{d=await _(e,so,"getTransaction")({hash:s}),d.blockNumber&&(S=d.blockNumber)},{delay:a,retryCount:o}),b=!1),h=await _(e,cr,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;v(()=>y.resolve(h))}catch(I){if(I instanceof $c||I instanceof Bc){if(!d){b=!1;return}try{l=d,b=!0;const A=await Rn(()=>_(e,xe,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:R})=>R instanceof hu});b=!1;const $=A.transactions.find(({from:R,nonce:j})=>R===l.from&&j===l.nonce);if(!$||(h=await _(e,cr,"getTransactionReceipt")({hash:$.hash}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r)))return;let k="replaced";$.to===l.to&&$.value===l.value&&$.input===l.input?k="repriced":$.from===$.to&&$.value===0n&&(k="cancelled"),v(()=>{y.onReplaced?.({reason:k,replacedTransaction:l,transaction:$,transactionReceipt:h}),y.resolve(h)})}catch(A){v(()=>y.reject(A))}}else v(()=>y.reject(I))}}})}),E}function U1(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=o??!1;let d;return u?(()=>{const b=G(["watchBlocks",e.uid,t,n,r,f,c]);return Qe(b,{onBlock:s,onError:i},p=>rn(async()=>{try{const m=await _(e,xe,"getBlock")({blockTag:t,includeTransactions:f});if(m.number!==null&&d?.number!=null){if(m.number===d.number)return;if(m.number-d.number>1&&n)for(let E=d?.number+1n;E<m.number;E++){const P=await _(e,xe,"getBlock")({blockNumber:E,includeTransactions:f});p.onBlock(P,d),d=P}}(d?.number==null||t==="pending"&&m?.number==null||m.number!==null&&m.number>d.number)&&(p.onBlock(m,d),d=m)}catch(m){p.onError?.(m)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,p=!0,m=()=>b=!1;return(async()=>{try{r&&_(e,xe,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{b&&p&&(s(w,void 0),p=!1)}).catch(i);const E=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(g=>g.config.type==="webSocket"||g.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:P}=await E.subscribe({params:["newHeads"],async onData(w){if(!b)return;const g=await _(e,xe,"getBlock")({blockNumber:w.result?.number,includeTransactions:f}).catch(()=>{});b&&(s(g,d),p=!1,d=g)},onError(w){i?.(w)}});m=P,b||m()}catch(E){i?.(E)}})(),()=>m()})()}function L1(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const m=l??!1,E=G(["watchContractEvent",r,s,i,e.uid,o,d,m,a]);return Qe(E,{onLogs:u,onError:c},P=>{let w;a!==void 0&&(w=a-1n);let g,y=!1;const x=rn(async()=>{if(!y){try{g=await _(e,iu,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:m,fromBlock:a})}catch{}y=!0;return}try{let v;if(g)v=await _(e,zr,"getFilterChanges")({filter:g});else{const S=await _(e,Kn,"getBlockNumber")({});w&&w<S?v=await _(e,Cu,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:w+1n,toBlock:S,strict:m}):v=[],w=S}if(v.length===0)return;if(i)P.onLogs(v);else for(const S of v)P.onLogs([S])}catch(v){g&&v instanceof ct&&(y=!1),P.onError?.(v)}},{emitOnBegin:!0,interval:d});return async()=>{g&&await _(e,Dr,"uninstallFilter")({filter:g}),x()}})})():(()=>{const m=l??!1,E=G(["watchContractEvent",r,s,i,e.uid,o,d,m]);let P=!0,w=()=>P=!1;return Qe(E,{onLogs:u,onError:c},g=>((async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),x=o?Qn({abi:n,eventName:o,args:s}):[],{unsubscribe:v}=await y.subscribe({params:["logs",{address:r,topics:x}],onData(S){if(!P)return;const I=S.result;try{const{eventName:A,args:$}=gr({abi:n,data:I.data,topics:I.topics,strict:l}),k=We(I,{args:$,eventName:A});g.onLogs([k])}catch(A){let $,k;if(A instanceof lr||A instanceof yi){if(l)return;$=A.abiItem.name,k=A.abiItem.inputs?.some(j=>!("name"in j&&j.name))}const R=We(I,{args:k?[]:{},eventName:$});g.onLogs([R])}},onError(S){g.onError?.(S)}});w=v,P||w()}catch(y){c?.(y)}})(),()=>w()))})()}function D1(e,{address:t,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return l?(()=>{const m=G(["watchEvent",t,n,r,e.uid,s,f,o]);return Qe(m,{onLogs:c,onError:a},E=>{let P;o!==void 0&&(P=o-1n);let w,g=!1;const y=rn(async()=>{if(!g){try{w=await _(e,ou,"createEventFilter")({address:t,args:n,event:s,events:i,strict:h,fromBlock:o})}catch{}g=!0;return}try{let x;if(w)x=await _(e,zr,"getFilterChanges")({filter:w});else{const v=await _(e,Kn,"getBlockNumber")({});P&&P!==v?x=await _(e,Qi,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:P+1n,toBlock:v}):x=[],P=v}if(x.length===0)return;if(r)E.onLogs(x);else for(const v of x)E.onLogs([v])}catch(x){w&&x instanceof ct&&(g=!1),E.onError?.(x)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await _(e,Dr,"uninstallFilter")({filter:w}),y()}})})():(()=>{let m=!0,E=()=>m=!1;return(async()=>{try{const P=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return x?x.value:e.transport}return e.transport})(),w=i??(s?[s]:void 0);let g=[];w&&(g=[w.flatMap(v=>Qn({abi:[v],eventName:v.name,args:n}))],s&&(g=g[0]));const{unsubscribe:y}=await P.subscribe({params:["logs",{address:t,topics:g}],onData(x){if(!m)return;const v=x.result;try{const{eventName:S,args:I}=gr({abi:w??[],data:v.data,topics:v.topics,strict:h}),A=We(v,{args:I,eventName:S});c([A])}catch(S){let I,A;if(S instanceof lr||S instanceof yi){if(d)return;I=S.abiItem.name,A=S.abiItem.inputs?.some(k=>!("name"in k&&k.name))}const $=We(v,{args:A?[]:{},eventName:I});c([$])}},onError(x){a?.(x)}});E=y,m||E()}catch(P){a?.(P)}})(),()=>E()})()}function q1(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=G(["watchPendingTransactions",e.uid,t,i]);return Qe(u,{onTransactions:r,onError:n},f=>{let d;const l=rn(async()=>{try{if(!d)try{d=await _(e,au,"createPendingTransactionFilter")({});return}catch(b){throw l(),b}const h=await _(e,zr,"getFilterChanges")({filter:d});if(h.length===0)return;if(t)f.onTransactions(h);else for(const b of h)f.onTransactions([b])}catch(h){f.onError?.(h)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await _(e,Dr,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}class pf extends C{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}async function H1(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const G1="0x5792579257925792579257925792579257925792579257925792579257925792",V1=N(0,{size:32});async function W1(e,t){async function n(f){if(f.endsWith(G1.slice(2))){const l=Le(Cs(f,-64,-32)),h=Cs(f,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(h.map(m=>V1.slice(2)!==m?e.request({method:"eth_getTransactionReceipt",params:[`0x${m}`]},{dedupe:!0}):void 0)),p=b.some(m=>m===null)?100:b.every(m=>m?.status==="0x1")?200:b.every(m=>m?.status==="0x0")?500:600;return{atomic:!1,chainId:Se(l),receipts:b.filter(Boolean),status:p,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:r,chainId:s?Se(s):void 0,receipts:i?.map(f=>({...f,blockNumber:ye(f.blockNumber),gasUsed:ye(f.gasUsed),status:Tu[f.status]}))??[],statusCode:u,status:c,version:o}}async function pg(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new pf({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Z(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:Z(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await _(e,jr,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await _(e,Hi,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o?.address&&nn(o.address,i.address))&&(a.nonce+=1)),a}class Q1 extends C{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}async function bg(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:p})=>p===200||p>=300,retryCount:i=4,retryDelay:o=({count:p})=>~~(1<<p)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=G(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:l}=_i();let h;const b=Qe(u,{resolve:d,reject:l},p=>{const m=rn(async()=>{const E=P=>{clearTimeout(h),m(),P(),b()};try{const P=await Rn(async()=>{const w=await _(e,W1,"getCallsStatus")({id:n});if(c&&w.status==="failure")throw new Q1(w);return w},{retryCount:i,delay:o});if(!s(P))return;E(()=>p.resolve(P))}catch(P){E(()=>p.reject(P))}},{interval:r,emitOnBegin:!0});return m});return h=a?setTimeout(()=>{b(),clearTimeout(h),l(new K1({id:n}))},a):void 0,await f}class K1 extends C{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function Z1(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,N(r)]:[t]},{retryCount:0}),o=(e.chain?.formatters?.transactionReceipt?.format||Ru)(s);if(o.status==="reverted"&&n)throw new al({receipt:o});return o}async function Y1(e,{account:t=e.account,message:n}){if(!t)throw new pf({docsPath:"/docs/actions/wallet/signMessage"});const r=Z(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?vt(n):n.raw instanceof Uint8Array?Ge(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}function J1(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}const ur="2.22.1",X1=()=>`@wagmi/core@${ur}`;var bf=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},xr,mf;let Je=class si extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return X1()}constructor(t,n={}){super(),xr.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof si?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof si&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return bf(this,xr,"m",mf).call(this,this,t)}};xr=new WeakSet,mf=function e(t,n){return n?.(t)?t:t.cause?bf(this,xr,"m",e).call(this,t.cause,n):t};class Er extends Je{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class em extends Je{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class tm extends Je{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class nm extends Je{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class rm extends Je{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class sm extends Je{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function im(e,t){let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new em;try{e.setState(o=>({...o,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=t,i=await n.connect(s);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",n.id),e.setState(o=>({...o,connections:new Map(o.connections).set(n.uid,{accounts:s.withCapabilities?i.accounts.map(a=>typeof a=="object"?a.address:a):i.accounts,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s.withCapabilities?i.accounts.map(o=>typeof o=="object"?o:{address:o,capabilities:{}}):i.accounts,chainId:i.chainId}}catch(r){throw e.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}const ii=256;let tr=ii,nr;function yf(e=11){if(!nr||tr+e>ii*2){nr="",tr=0;for(let t=0;t<ii;t++)nr+=(256+Math.random()*256|0).toString(16).substring(1)}return nr.substring(tr,tr+++e)}function io(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?Z(e.account):void 0,{config:h,request:b,value:p}=e.transport({account:l,chain:n,pollingInterval:f}),m={...h,...p},E={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:i,pollingInterval:f,request:b,transport:m,type:o,uid:yf(),...a?{experimental_blockTag:a}:{}};function P(w){return g=>{const y=g(w);for(const v in E)delete y[v];const x={...w,...y};return Object.assign(x,{extend:P(x)})}}return Object.assign(E,{extend:P(E)})}function om(e){const{scheme:t,statement:n,...r}=e.match(am)?.groups??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...u}=e.match(cm)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const am=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,cm=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function um(e){const{address:t,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!de(r.address,{strict:!1})||t&&!nn(r.address,t))return!1}catch{return!1}return!0}async function fm(e,t){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...u}=t,f=om(s);if(!f.address||!um({address:n,domain:r,message:f,nonce:i,scheme:o,time:c}))return!1;const l=Mu(s);return qr(e,{address:f.address,hash:l,signature:a,...u})}function dm(e){return{call:t=>Wn(e,t),createAccessList:t=>su(e,t),createBlockFilter:()=>Ch(e),createContractEventFilter:t=>iu(e,t),createEventFilter:t=>ou(e,t),createPendingTransactionFilter:()=>au(e),estimateContractGas:t=>op(e,t),estimateGas:t=>Vi(e,t),getBalance:t=>ap(e,t),getBlobBaseFee:()=>cp(e),getBlock:t=>xe(e,t),getBlockNumber:t=>Kn(e,t),getBlockTransactionCount:t=>pp(e,t),getBytecode:t=>Ws(e,t),getChainId:()=>jr(e),getCode:t=>Ws(e,t),getContractEvents:t=>Cu(e,t),getEip712Domain:t=>gp(e,t),getEnsAddress:t=>dh(e,t),getEnsAvatar:t=>Sh(e,t),getEnsName:t=>Ah(e,t),getEnsResolver:t=>Ih(e,t),getEnsText:t=>ru(e,t),getFeeHistory:t=>xp(e,t),estimateFeesPerGas:t=>Uh(e,t),getFilterChanges:t=>zr(e,t),getFilterLogs:t=>Ep(e,t),getGasPrice:()=>qi(e),getLogs:t=>Qi(e,t),getProof:t=>h1(e,t),estimateMaxPriorityFeePerGas:t=>zh(e,t),fillTransaction:t=>Au(e,t),getStorageAt:t=>p1(e,t),getTransaction:t=>so(e,t),getTransactionConfirmations:t=>b1(e,t),getTransactionCount:t=>Hi(e,t),getTransactionReceipt:t=>cr(e,t),multicall:t=>m1(e,t),prepareTransactionRequest:t=>Iu(e,t),readContract:t=>$e(e,t),sendRawTransaction:t=>H1(e,t),sendRawTransactionSync:t=>Z1(e,t),simulate:t=>ti(e,t),simulateBlocks:t=>ti(e,t),simulateCalls:t=>I1(e,t),simulateContract:t=>C1(e,t),verifyHash:t=>qr(e,t),verifyMessage:t=>N1(e,t),verifySiweMessage:t=>fm(e,t),verifyTypedData:t=>_1(e,t),uninstallFilter:t=>Dr(e,t),waitForTransactionReceipt:t=>z1(e,t),watchBlocks:t=>U1(e,t),watchBlockNumber:t=>hf(e,t),watchContractEvent:t=>L1(e,t),watchEvent:t=>D1(e,t),watchPendingTransactions:t=>q1(e,t)}}function mg(e){const{key:t="public",name:n="Public Client"}=e;return io({...e,key:t,name:n,type:"publicClient"}).extend(dm)}function oo({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=yf();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:Ap(r,{methods:t,retryCount:s,retryDelay:i,uid:u}),value:c}}function lm(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=t;return({retryCount:o})=>oo({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:i,type:"custom"})}function yg(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=hm,retryCount:o,retryDelay:a}=t;return(({chain:c,pollingInterval:u=4e3,timeout:f,...d})=>{let l=e,h=()=>{};const b=oo({key:n,name:r,async request({method:p,params:m}){let E;const P=async(w=0)=>{const g=l[w]({...d,chain:c,retryCount:0,timeout:f});try{const y=await g.request({method:p,params:m});return h({method:p,params:m,response:y,transport:g,status:"success"}),y}catch(y){if(h({error:y,method:p,params:m,transport:g,status:"error"}),i(y)||w===l.length-1||(E??=l.slice(w+1).some(x=>{const{include:v,exclude:S}=x({chain:c}).config.methods||{};return v?v.includes(p):S?!S.includes(p):!0}),!E))throw y;return P(w+1)}};return P()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:p=>h=p,transports:l.map(p=>p({chain:c,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};pm({chain:c,interval:p.interval??u,onTransports:m=>l=m,ping:p.ping,sampleCount:p.sampleCount,timeout:p.timeout,transports:l,weights:p.weights})}return b})}function hm(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===Kt.code||e.code===ee.code||pt.nodeMessage.test(e.message)||e.code===5e3))}function pm({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,f=[],d=async()=>{const l=await Promise.all(o.map(async p=>{const m=p({chain:e,retryCount:0,timeout:i}),E=Date.now();let P,w;try{await(r?r({transport:m}):m.request({method:"net_listening"})),w=1}catch{w=0}finally{P=Date.now()}return{latency:P-E,success:w}}));f.push(l),f.length>s&&f.shift();const h=Math.max(...f.map(p=>Math.max(...p.map(({latency:m})=>m)))),b=o.map((p,m)=>{const E=f.map(x=>x[m].latency),w=1-E.reduce((x,v)=>x+v,0)/E.length/h,g=f.map(x=>x[m].success),y=g.reduce((x,v)=>x+v,0)/g.length;return y===0?[0,m]:[u*w+c*y,m]}).sort((p,m)=>m[0]-p[0]);n(b.map(([,p])=>o[p])),await wr(t),d()};d()}class bm extends C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function gg(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:d}=t;return({chain:l,retryCount:h,timeout:b})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},E=t.retryCount??h,P=b??t.timeout??1e4,w=e||l?.rpcUrls.default.http[0];if(!w)throw new bm;const g=Mp(w,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:P});return oo({key:i,methods:o,name:a,async request({method:y,params:x}){const v={method:y,params:x},{schedule:S}=Xc({id:w,wait:m,shouldSplitBatch(k){return k.length>p},fn:k=>g.request({body:k}),sort:(k,R)=>k.id-R.id}),I=async k=>n?S(k):[await g.request({body:k})],[{error:A,result:$}]=await I(v);if(d)return{error:A,result:$};if(A)throw new Oi({body:v,error:A,url:w});return $},retryCount:E,retryDelay:f,timeout:P,type:"http"},{fetchOptions:s,url:w})}}function wg(e){const{r:t,s:n}=to.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,i]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:N(t,{size:32}),s:N(n,{size:32}),v:s,yParity:i}:{r:N(t,{size:32}),s:N(n,{size:32}),yParity:i}}async function mm(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:f}=t;if(e.state.status==="reconnecting"&&!f.getAccounts&&!f.getChainId)throw new sm({connector:f});const[d,l]=await Promise.all([f.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),f.getChainId()]);r={accounts:d,chainId:l,connector:f}}else r=e.state.connections.get(e.state.current);if(!r)throw new tm;const s=t.chainId??r.chainId,i=await r.connector.getChainId();if(n&&i!==s)throw new rm({connectionChainId:s,connectorChainId:i});const o=r.connector;if(o.getClient)return o.getClient({chainId:s});const a=Z(t.account??r.accounts[0]);if(a&&(a.address=lt(a.address)),t.account&&!r.accounts.some(f=>f.toLowerCase()===a.address.toLowerCase()))throw new nm({address:a.address,connector:o});const c=e.chains.find(f=>f.id===s),u=await r.connector.getProvider({chainId:s});return io({account:a,chain:c,name:"Connector Client",transport:f=>lm(u)({...f,retryCount:0})})}async function ym(e,t={}){let n;if(t.connector)n=t.connector;else{const{connections:s,current:i}=e.state;n=s.get(i)?.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const i=r.values().next().value;return{...s,connections:new Map(r),current:i.connector.uid}});{const s=e.state.current;if(!s)return;const i=e.state.connections.get(s)?.connector;if(!i)return;await e.storage?.setItem("recentConnectorId",i.id)}}function gf(e){const t=e.state.current,n=e.state.connections.get(t),r=n?.accounts,s=r?.[0],i=e.chains.find(a=>a.id===n?.chainId),o=e.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}function Ct(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ct(e[r],t[r]))return!1;return!0}if(typeof e.valueOf=="function"&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!Ct(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}let ms=[];function ma(e){const t=e.chains;return Ct(ms,t)?ms:(ms=t,t)}let rr=[];function oi(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||Ct(rr,t)?rr:(rr=t,t)}let sr=[];function ya(e){const t=e.connectors;return sr.length===t.length&&sr.every((n,r)=>n===t[r])?sr:(sr=t,t)}let ys=!1;async function gm(e,t={}){if(ys)return[];ys=!0,e.setState(u=>({...u,status:u.current?"reconnecting":"connecting"}));const n=[];if(t.connectors?.length)for(const u of t.connectors){let f;typeof u=="function"?f=e._internal.connectors.setup(u):f=u,n.push(f)}else n.push(...e.connectors);let r;try{r=await e.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,u]of e.state.connections)s[u.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((u,f)=>(s[u.id]??10)-(s[f.id]??10)):n;let o=!1;const a=[],c=[];for(const u of i){const f=await u.getProvider().catch(()=>{});if(!f||c.some(h=>h===f)||!await u.isAuthorized())continue;const l=await u.connect({isReconnecting:!0}).catch(()=>null);l&&(u.emitter.off("connect",e._internal.events.connect),u.emitter.on("change",e._internal.events.change),u.emitter.on("disconnect",e._internal.events.disconnect),e.setState(h=>{const b=new Map(o?h.connections:new Map).set(u.uid,{accounts:l.accounts,chainId:l.chainId,connector:u});return{...h,current:o?h.current:u.uid,connections:b}}),a.push({accounts:l.accounts,chainId:l.chainId,connector:u}),c.push(f),o=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(o?e.setState(u=>({...u,status:"connected"})):e.setState(u=>({...u,connections:new Map,current:null,status:"disconnected"}))),ys=!1,a}async function wm(e,t){const{account:n,connector:r,...s}=t;let i;return typeof n=="object"&&n.type==="local"?i=e.getClient():i=await mm(e,{account:n,connector:r}),J1(i,Y1,"signMessage")({...s,...n?{account:n}:{}})}class zt extends Je{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class vm extends Je{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function xm(e,t){const{addEthereumChainParameter:n,chainId:r}=t,s=e.state.connections.get(t.connector?.uid??e.state.current);if(s){const o=s.connector;if(!o.switchChain)throw new vm({connector:o});return await o.switchChain({addEthereumChainParameter:n,chainId:r})}const i=e.chains.find(o=>o.id===r);if(!i)throw new Er;return e.setState(o=>({...o,chainId:r})),i}function Em(e,t){const{onChange:n}=t;return e.subscribe(()=>gf(e),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return Ct(o,c)&&i?.id===a?.id&&i?.uid===a?.uid}})}function Pm(e,t){const{onChange:n}=t;return e.subscribe(()=>oi(e),n,{equalityFn:Ct})}function Sm(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function vg(e){return e}ao.type="injected";function ao(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...Am[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u?.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:ao.type,async setup(){const u=await this.getProvider();u?.on&&e.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:f,withCapabilities:d}={}){const l=await this.getProvider();if(!l)throw new zt;let h=[];if(f)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(await l.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>lt(p)),h.length>0&&(h=await this.getAccounts())}catch(b){const p=b;if(p.code===ee.code)throw new ee(p);if(p.code===it.code)throw p}try{!h?.length&&!f&&(h=(await l.request({method:"eth_requestAccounts"})).map(m=>lt(m))),o&&(l.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),l.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a));let b=await this.getChainId();return u&&b!==u&&(b=(await this.switchChain({chainId:u}).catch(m=>{if(m.code===ee.code)throw m;return{id:b}}))?.id??b),t&&await c.storage?.removeItem(`${this.id}.disconnected`),e.target||await c.storage?.setItem("injected.connected",!0),{accounts:d?h.map(p=>({address:p,capabilities:{}})):h,chainId:b}}catch(b){const p=b;throw p.code===ee.code?new ee(p):p.code===it.code?new it(p):p}},async disconnect(){const u=await this.getProvider();if(!u)throw new zt;i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await ku(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await c.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){const u=await this.getProvider();if(!u)throw new zt;return(await u.request({method:"eth_accounts"})).map(d=>lt(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new zt;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=r();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=fr(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){try{if(t&&await c.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const l=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",l),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(p=>window.addEventListener("ethereum#initialized",()=>p(l()),{once:!0}))]:[],new Promise(p=>setTimeout(()=>p(l()),h))]))return!0}throw new zt}return!!(await Rn(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){const d=await this.getProvider();if(!d)throw new zt;const l=c.chains.find(b=>b.id===f);if(!l)throw new Pt(new Er);const h=new Promise(b=>{const p=(m=>{"chainId"in m&&m.chainId===f&&(c.emitter.off("change",p),b())});c.emitter.on("change",p)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:N(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),h]),l}catch(b){const p=b;if(p.code===4902||p?.data?.originalError?.code===4902)try{const{default:m,...E}=l.blockExplorers??{};let P;u?.blockExplorerUrls?P=u.blockExplorerUrls:m&&(P=[m.url,...Object.values(E).map(y=>y.url)]);let w;u?.rpcUrls?.length?w=u.rpcUrls:w=[l.rpcUrls.default?.http[0]??""];const g={blockExplorerUrls:P,chainId:N(f),chainName:u?.chainName??l.name,iconUrls:u?.iconUrls,nativeCurrency:u?.nativeCurrency??l.nativeCurrency,rpcUrls:w};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[g]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new ee(new Error("User rejected switch after adding network."))}),h]),l}catch(m){throw new ee(m)}throw p.code===ee.code?new ee(p):new Pt(p)}},async onAccountsChanged(u){if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),t&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:u.map(f=>lt(f))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:d});const l=await this.getProvider();l&&(o&&(l.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),l.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(i&&(f.removeListener("chainChanged",i),i=void 0),a&&(f.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))))}})}const Am={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:fr(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return fr(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:fr(e,"isPhantom")}}};function fr(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Im(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function Cm(){const e=new Set;let t=[];const n=()=>Im(s=>{t.some(({info:i})=>i.uuid===s.info.uuid)||(t=[...t,s],e.forEach(i=>i(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider({rdns:s}){return t.find(i=>i.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:i}={}){return e.add(s),i&&s(t,{added:t}),()=>e.delete(s)}}}const $m=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let u=o;if(a){const f=c?.equalityFn||Object.is;let d=o(r.getState());u=l=>{const h=o(l);if(!f(d,h)){const b=d;a(d=h,b)}},c?.fireImmediately&&a(d,d)}return s(u)},e(t,n,r)},Bm=$m;function Om(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const ai=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ai(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ai(r)(n)}}}},Tm=(e,t)=>(n,r,s)=>{let i={storage:Om(()=>localStorage),partialize:p=>p,version:0,merge:(p,m)=>({...m,...p}),...t},o=!1;const a=new Set,c=new Set;let u=i.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...p)},r,s);const f=()=>{const p=i.partialize({...r()});return u.setItem(i.name,{state:p,version:i.version})},d=s.setState;s.setState=(p,m)=>{d(p,m),f()};const l=e((...p)=>{n(...p),f()},r,s);s.getInitialState=()=>l;let h;const b=()=>{var p,m;if(!u)return;o=!1,a.forEach(P=>{var w;return P((w=r())!=null?w:l)});const E=((m=i.onRehydrateStorage)==null?void 0:m.call(i,(p=r())!=null?p:l))||void 0;return ai(u.getItem.bind(u))(i.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==i.version){if(i.migrate)return[!0,i.migrate(P.state,P.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var w;const[g,y]=P;if(h=i.merge(y,(w=r())!=null?w:l),n(h,!0),g)return f()}).then(()=>{E?.(h,void 0),h=r(),o=!0,c.forEach(P=>P(h))}).catch(P=>{E?.(void 0,P)})};return s.persist={setOptions:p=>{i={...i,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||b(),h||l},Rm=Tm,ga=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const l=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(h=>h(t,l))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},gs=e=>e?ga(e):ga;var ws={exports:{}},wa;function km(){return wa||(wa=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,l){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new s(f,d||c,l),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],h]:c._events[b].push(h):(c._events[b]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var l=0,h=d.length,b=new Array(h);l<h;l++)b[l]=d[l].fn;return b},a.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,f,d,l,h,b){var p=n?n+u:u;if(!this._events[p])return!1;var m=this._events[p],E=arguments.length,P,w;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),E){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,d),!0;case 4:return m.fn.call(m.context,f,d,l),!0;case 5:return m.fn.call(m.context,f,d,l,h),!0;case 6:return m.fn.call(m.context,f,d,l,h,b),!0}for(w=1,P=new Array(E-1);w<E;w++)P[w-1]=arguments[w];m.fn.apply(m.context,P)}else{var g=m.length,y;for(w=0;w<g;w++)switch(m[w].once&&this.removeListener(u,m[w].fn,void 0,!0),E){case 1:m[w].fn.call(m[w].context);break;case 2:m[w].fn.call(m[w].context,f);break;case 3:m[w].fn.call(m[w].context,f,d);break;case 4:m[w].fn.call(m[w].context,f,d,l);break;default:if(!P)for(y=1,P=new Array(E-1);y<E;y++)P[y-1]=arguments[y];m[w].fn.apply(m[w].context,P)}}return!0},a.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},a.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},a.prototype.removeListener=function(u,f,d,l){var h=n?n+u:u;if(!this._events[h])return this;if(!f)return o(this,h),this;var b=this._events[h];if(b.fn)b.fn===f&&(!l||b.once)&&(!d||b.context===d)&&o(this,h);else{for(var p=0,m=[],E=b.length;p<E;p++)(b[p].fn!==f||l&&!b[p].once||d&&b[p].context!==d)&&m.push(b[p]);m.length?this._events[h]=m.length===1?m[0]:m:o(this,h)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(ws)),ws.exports}var Mm=km();const Fm=mi(Mm);class Nm{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Fm})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function _m(e){return new Nm(e)}function jm(e,t){return JSON.parse(e,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),t?.(n,s)??s})}function va(e,t){return e.slice(0,t).join(".")||"."}function xa(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function zm(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const u=xa(s,this);u===0?s[s.length]=this:(s.splice(u),i.splice(u)),i[i.length]=a;const f=xa(s,c);if(f!==0)return r?t.call(this,a,c,va(i,f)):`[ref=${va(i,f)}]`}else s[0]=c,i[0]=a;return n?e.call(this,a,c):c}}function Um(e,t,n,r){return JSON.stringify(e,zm((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),t?.(s,o)??o},r),n??void 0)}function Lm(e){const{deserialize:t=jm,key:n="wagmi",serialize:r=Um,storage:s=wf}=e;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),u=await i(c);return u?t(u)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const wf={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Dm(){const e=typeof window<"u"&&window.localStorage?window.localStorage:wf;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const ci=256;let ir=ci,or;function qm(e=11){if(!or||ir+e>ci*2){or="",ir=0;for(let t=0;t<ci;t++)or+=(256+Math.random()*256|0).toString(16).substring(1)}return or.substring(ir,ir+++e)}function xg(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=Lm({storage:Dm()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=e,o=typeof window<"u"&&t?Cm():void 0,a=gs(()=>i.chains),c=gs(()=>{const y=[],x=new Set;for(const v of i.connectors??[]){const S=u(v);if(y.push(S),!s&&S.rdns){const I=typeof S.rdns=="string"?[S.rdns]:S.rdns;for(const A of I)x.add(A)}}if(!s&&o){const v=o.getProviders();for(const S of v)x.has(S.info.rdns)||y.push(u(f(S)))}return y});function u(y){const x=_m(qm()),v={...y({emitter:x,chains:a.getState(),storage:n,transports:i.transports}),emitter:x,uid:x.uid};return x.on("connect",w),v.setup?.(),v}function f(y){const{info:x}=y,v=y.provider;return ao({target:{...x,id:x.rdns,provider:v}})}const d=new Map;function l(y={}){const x=y.chainId??m.getState().chainId,v=a.getState().find(I=>I.id===x);if(y.chainId&&!v)throw new Er;{const I=d.get(m.getState().chainId);if(I&&!v)return I;if(!v)throw new Er}{const I=d.get(x);if(I)return I}let S;if(i.client)S=i.client({chain:v});else{const I=v.id,A=a.getState().map(R=>R.id),$={},k=Object.entries(i);for(const[R,j]of k)if(!(R==="chains"||R==="client"||R==="connectors"||R==="transports"))if(typeof j=="object")if(I in j)$[R]=j[I];else{if(A.some(O=>O in j))continue;$[R]=j}else $[R]=j;S=io({...$,chain:v,batch:$.batch??{multicall:!0},transport:R=>i.transports[I]({...R,connectors:c})})}return d.set(x,S),S}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let b;const p="0.0.0-canary-";ur.startsWith(p)?b=Number.parseInt(ur.replace(p,""),10):b=Number.parseInt(ur.split(".")[0]??"0",10);const m=gs(Bm(n?Rm(h,{migrate(y,x){if(x===b)return y;const v=h(),S=E(y,v.chainId);return{...v,chainId:S}},name:"store",partialize(y){return{connections:{__type:"Map",value:Array.from(y.connections.entries()).map(([x,v])=>{const{id:S,name:I,type:A,uid:$}=v.connector;return[x,{...v,connector:{id:S,name:I,type:A,uid:$}}]})},chainId:y.chainId,current:y.current}},merge(y,x){typeof y=="object"&&y&&"status"in y&&delete y.status;const v=E(y,x.chainId);return{...x,...y,chainId:v}},skipHydration:s,storage:n,version:b}):h));m.setState(h());function E(y,x){return y&&typeof y=="object"&&"chainId"in y&&typeof y.chainId=="number"&&a.getState().some(v=>v.id===y.chainId)?y.chainId:x}r&&m.subscribe(({connections:y,current:x})=>x?y.get(x)?.chainId:void 0,y=>{if(a.getState().some(v=>v.id===y))return m.setState(v=>({...v,chainId:y??v.chainId}))}),o?.subscribe(y=>{const x=new Set,v=new Set;for(const I of c.getState())if(x.add(I.id),I.rdns){const A=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const $ of A)v.add($)}const S=[];for(const I of y){if(v.has(I.info.rdns))continue;const A=u(f(I));x.has(A.id)||S.push(A)}n&&!m.persist.hasHydrated()||c.setState(I=>[...I,...S],!0)});function P(y){m.setState(x=>{const v=x.connections.get(y.uid);return v?{...x,connections:new Map(x.connections).set(y.uid,{accounts:y.accounts??v.accounts,chainId:y.chainId??v.chainId,connector:v.connector})}:x})}function w(y){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(x=>{const v=c.getState().find(S=>S.uid===y.uid);return v?(v.emitter.listenerCount("connect")&&v.emitter.off("connect",P),v.emitter.listenerCount("change")||v.emitter.on("change",P),v.emitter.listenerCount("disconnect")||v.emitter.on("disconnect",g),{...x,connections:new Map(x.connections).set(y.uid,{accounts:y.accounts,chainId:y.chainId,connector:v}),current:y.uid,status:"connected"}):x})}function g(y){m.setState(x=>{const v=x.connections.get(y.uid);if(v){const I=v.connector;I.emitter.listenerCount("change")&&v.connector.emitter.off("change",P),I.emitter.listenerCount("disconnect")&&v.connector.emitter.off("disconnect",g),I.emitter.listenerCount("connect")||v.connector.emitter.on("connect",w)}if(x.connections.delete(y.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};const S=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:S.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:l,get state(){return m.getState()},setState(y){let x;typeof y=="function"?x=y(m.getState()):x=y;const v=h();typeof x!="object"&&(x=v),Object.keys(v).some(I=>!(I in x))&&(x=v),m.setState(x,!0)},subscribe(y,x,v){return m.subscribe(y,x,v?{...v,fireImmediately:v.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const y=m.getState(),x=y.connections;let v=y.current;for(const[,S]of x){const I=S.connector;I.isAuthorized&&await I.isAuthorized()||(x.delete(I.uid),v===I.uid&&(v=null))}m.setState(S=>({...S,connections:x,current:v}))},store:m,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(y){const x=typeof y=="function"?y(a.getState()):y;if(x.length!==0)return a.setState(x,!0)},subscribe(y){return a.subscribe(y)}},connectors:{providerDetailToConnector:f,setup:u,setState(y){return c.setState(typeof y=="function"?y(c.getState()):y,!0)},subscribe(y){return c.subscribe(y)}},events:{change:P,connect:w,disconnect:g}}}}function Hm(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{const i=new Set;for(const c of s??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const f of u)i.add(f)}const o=[],a=e._internal.mipd?.getProviders()??[];for(const c of a){if(i.has(c.info.rdns))continue;const u=e._internal.connectors.providerDetailToConnector(c),f=e._internal.connectors.setup(u);o.push(f)}return[...s,...o]})),r?gm(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function Eg(e){const{chain:t}=e,n=t.rpcUrls.default.http[0];if(!e.transports)return[n];const r=e.transports?.[t.id]?.({chain:t});return(r?.value?.transports||[r]).map(({value:i})=>i?.url||n)}function Gm(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:i}=Hm(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=D.useRef(!0);return D.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),t}const vf=D.createContext(void 0);function Pg(e){const{children:t,config:n}=e,r={value:n};return D.createElement(Gm,e,D.createElement(vf.Provider,r,t))}const Vm="2.19.5",Wm=()=>`wagmi@${Vm}`;class Qm extends Je{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Wm()}}class Km extends Qm{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function ut(e={}){const t=e.config??D.useContext(vf);if(!t)throw new Km;return t}function Zm(e,t){const{onChange:n}=t;return e._internal.chains.subscribe((r,s)=>{n(r,s)})}var vs={exports:{}},xs={},Es={exports:{}},Ps={};var Ea;function Ym(){if(Ea)return Ps;Ea=1;var e=bi();function t(d,l){return d===l&&(d!==0||1/d===1/l)||d!==d&&l!==l}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(d,l){var h=l(),b=r({inst:{value:h,getSnapshot:l}}),p=b[0].inst,m=b[1];return i(function(){p.value=h,p.getSnapshot=l,c(p)&&m({inst:p})},[d,h,l]),s(function(){return c(p)&&m({inst:p}),d(function(){c(p)&&m({inst:p})})},[d]),o(h),h}function c(d){var l=d.getSnapshot;d=d.value;try{var h=l();return!n(d,h)}catch{return!0}}function u(d,l){return l()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return Ps.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Ps}var Pa;function Jm(){return Pa||(Pa=1,Es.exports=Ym()),Es.exports}var Sa;function Xm(){if(Sa)return xs;Sa=1;var e=bi(),t=Jm();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return xs.useSyncExternalStoreWithSelector=function(u,f,d,l,h){var b=i(null);if(b.current===null){var p={hasValue:!1,value:null};b.current=p}else p=b.current;b=a(function(){function E(x){if(!P){if(P=!0,w=x,x=l(x),h!==void 0&&p.hasValue){var v=p.value;if(h(v,x))return g=v}return g=x}if(v=g,r(w,x))return v;var S=l(x);return h!==void 0&&h(v,S)?(w=x,v):(w=x,g=S)}var P=!1,w,g,y=d===void 0?null:d;return[function(){return E(f())},y===null?void 0:function(){return E(y())}]},[f,d,l,h]);var m=s(u,b[0],b[1]);return o(function(){p.hasValue=!0,p.value=m},[m]),c(m),m},xs}var Aa;function ey(){return Aa||(Aa=1,vs.exports=Xm()),vs.exports}var xf=ey();const Sg=mi(xf),Ss=e=>typeof e=="object"&&!Array.isArray(e);function ty(e,t,n=t,r=Ct){const s=D.useRef([]),i=xf.useSyncExternalStoreWithSelector(e,t,n,o=>o,(o,a)=>{if(Ss(o)&&Ss(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return D.useMemo(()=>{if(Ss(i)){const o={...i};let a={};for(const[c,u]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(o,a),o}return i},[i])}function Ag(e={}){const t=ut(e);return ty(n=>Em(t,{onChange:n}),()=>gf(t))}var sn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ny={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ry=class{#e=ny;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},mt=new ry;function sy(e){setTimeout(e,0)}var $t=typeof window>"u"||"Deno"in globalThis;function te(){}function iy(e,t){return typeof e=="function"?e(t):e}function ui(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ef(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ot(e,t){return typeof e=="function"?e(t):e}function me(e,t){return typeof e=="function"?e(t):e}function Ia(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==co(o,t.options))return!1}else if(!Mn(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Ca(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Bt(t.options.mutationKey)!==Bt(i))return!1}else if(!Mn(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function co(e,t){return(t?.queryKeyHashFn||Bt)(e)}function Bt(e){return JSON.stringify(e,(t,n)=>fi(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Mn(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Mn(e[n],t[n])):!1}var oy=Object.prototype.hasOwnProperty;function Pf(e,t){if(e===t)return e;const n=$a(e)&&$a(t);if(!n&&!(fi(e)&&fi(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const f=n?u:i[u],d=e[f],l=t[f];if(d===l){a[f]=d,(n?u<s:oy.call(e,f))&&c++;continue}if(d===null||l===null||typeof d!="object"||typeof l!="object"){a[f]=l;continue}const h=Pf(d,l);a[f]=h,h===d&&c++}return s===o&&c===s?e:a}function Pr(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function $a(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fi(e){if(!Ba(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ba(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ba(e){return Object.prototype.toString.call(e)==="[object Object]"}function ay(e){return new Promise(t=>{mt.setTimeout(t,e)})}function di(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Pf(e,t):t}function cy(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function uy(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var uo=Symbol();function Sf(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===uo?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function fo(e,t){return typeof e=="function"?e(...t):!!e}function fy(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var dy=class extends sn{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!$t&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},lo=new dy;function li(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var ly=sy;function hy(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=ly;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var V=hy(),py=class extends sn{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!$t&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Sr=new py;function by(e){return Math.min(1e3*2**e,3e4)}function Af(e){return(e??"online")==="online"?Sr.isOnline():!0}var hi=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function If(e){let t=!1,n=0,r;const s=li(),i=()=>s.status!=="pending",o=p=>{if(!i()){const m=new hi(p);l(m),e.onCancel?.(m)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>lo.isFocused()&&(e.networkMode==="always"||Sr.isOnline())&&e.canRun(),f=()=>Af(e.networkMode)&&e.canRun(),d=p=>{i()||(r?.(),s.resolve(p))},l=p=>{i()||(r?.(),s.reject(p))},h=()=>new Promise(p=>{r=m=>{(i()||u())&&p(m)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),b=()=>{if(i())return;let p;const m=n===0?e.initialPromise:void 0;try{p=m??e.fn()}catch(E){p=Promise.reject(E)}Promise.resolve(p).then(d).catch(E=>{if(i())return;const P=e.retry??($t?0:3),w=e.retryDelay??by,g=typeof w=="function"?w(n,E):w,y=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,E);if(t||!y){l(E);return}n++,e.onFail?.(n,E),ay(g).then(()=>u()?void 0:h()).then(()=>{t?l(E):b()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r?.(),s),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?b():h().then(b),s)}}var Cf=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ui(this.gcTime)&&(this.#e=mt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($t?1/0:300*1e3))}clearGcTimeout(){this.#e&&(mt.clearTimeout(this.#e),this.#e=void 0)}},my=class extends Cf{#e;#t;#n;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ta(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Ta(this.options);t.data!==void 0&&(this.setState(Oa(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=di(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(te).catch(te):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>me(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uo||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ot(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Ef(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(c=>c.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const a=Sf(this.options,t),u=(()=>{const f={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(f),f})();return this.#a=!1,this.options.persister?this.options.persister(a,u,this):a(u)},o=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=If({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof hi&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,c)=>{this.#i({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof hi){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#i({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$f(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...Oa(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),V.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function $f(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Af(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Oa(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ta(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yy=class extends sn{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#a=li(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#b;#l;#h;#u;#f;#c;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Ra(this.#t,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pi(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pi(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#x(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof me(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),t._defaulted&&!Pr(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&ka(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#t!==n||me(this.options.enabled,this.#t)!==me(t.enabled,this.#t)||ot(this.options.staleTime,this.#t)!==ot(t.staleTime,this.#t))&&this.#m();const s=this.#y();r&&(this.#t!==n||me(this.options.enabled,this.#t)!==me(t.enabled,this.#t)||s!==this.#c)&&this.#g(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return wy(this,n)&&(this.#s=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#E();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(te)),t}#m(){this.#v();const e=ot(this.options.staleTime,this.#t);if($t||this.#s.isStale||!ui(e))return;const n=Ef(this.#s.dataUpdatedAt,e)+1;this.#u=mt.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(e){this.#x(),this.#c=e,!($t||me(this.options.enabled,this.#t)===!1||!ui(this.#c)||this.#c===0)&&(this.#f=mt.setInterval(()=>{(this.options.refetchIntervalInBackground||lo.isFocused())&&this.#d()},this.#c))}#w(){this.#m(),this.#g(this.#y())}#v(){this.#u&&(mt.clearTimeout(this.#u),this.#u=void 0)}#x(){this.#f&&(mt.clearInterval(this.#f),this.#f=void 0)}createResult(e,t){const n=this.#t,r=this.options,s=this.#s,i=this.#r,o=this.#o,c=e!==n?e.state:this.#n,{state:u}=e;let f={...u},d=!1,l;if(t._optimisticResults){const S=this.hasListeners(),I=!S&&Ra(e,t),A=S&&ka(e,n,t,r);(I||A)&&(f={...f,...$f(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:h,errorUpdatedAt:b,status:p}=f;l=f.data;let m=!1;if(t.placeholderData!==void 0&&l===void 0&&p==="pending"){let S;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(S=s.data,m=!0):S=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,S!==void 0&&(p="success",l=di(s?.data,S,t),d=!0)}if(t.select&&l!==void 0&&!m)if(s&&l===i?.data&&t.select===this.#b)l=this.#l;else try{this.#b=t.select,l=t.select(l),l=di(s?.data,l,t),this.#l=l,this.#i=null}catch(S){this.#i=S}this.#i&&(h=this.#i,l=this.#l,b=Date.now(),p="error");const E=f.fetchStatus==="fetching",P=p==="pending",w=p==="error",g=P&&E,y=l!==void 0,v={status:p,fetchStatus:f.fetchStatus,isPending:P,isSuccess:p==="success",isError:w,isInitialLoading:g,isLoading:g,data:l,dataUpdatedAt:f.dataUpdatedAt,error:h,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:E,isRefetching:E&&!P,isLoadingError:w&&!y,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:w&&y,isStale:ho(e,t),refetch:this.refetch,promise:this.#a,isEnabled:me(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const S=$=>{v.status==="error"?$.reject(v.error):v.data!==void 0&&$.resolve(v.data)},I=()=>{const $=this.#a=v.promise=li();S($)},A=this.#a;switch(A.status){case"pending":e.queryHash===n.queryHash&&S(A);break;case"fulfilled":(v.status==="error"||v.data!==A.value)&&I();break;case"rejected":(v.status!=="error"||v.error!==A.reason)&&I();break}}return v}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Pr(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(o=>{const a=o;return this.#s[a]!==e[a]&&i.has(a)})};this.#P({listeners:n()})}#E(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#P(e){V.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function gy(e,t){return me(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ra(e,t){return gy(e,t)||e.state.data!==void 0&&pi(e,t,t.refetchOnMount)}function pi(e,t,n){if(me(t.enabled,e)!==!1&&ot(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&ho(e,t)}return!1}function ka(e,t,n,r){return(e!==t||me(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&ho(e,n)}function ho(e,t){return me(t.enabled,e)!==!1&&e.isStaleByTime(ot(t.staleTime,e))}function wy(e,t){return!Pr(e.getCurrentResult(),t)}function Ma(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let f=!1;const d=b=>{fy(b,()=>t.signal,()=>f=!0)},l=Sf(t.options,t.fetchOptions),h=async(b,p,m)=>{if(f)return Promise.reject();if(p==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const x={client:t.client,queryKey:t.queryKey,pageParam:p,direction:m?"backward":"forward",meta:t.options.meta};return d(x),x})(),w=await l(P),{maxPages:g}=t.options,y=m?uy:cy;return{pages:y(b.pages,w,g),pageParams:y(b.pageParams,p,g)}};if(s&&i.length){const b=s==="backward",p=b?vy:Fa,m={pages:i,pageParams:o},E=p(r,m);a=await h(m,E,b)}else{const b=e??i.length;do{const p=c===0?o[0]??r.initialPageParam:Fa(r,a);if(c>0&&p==null)break;a=await h(a,p),c++}while(c<b)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function Fa(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function vy(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var xy=class extends Cf{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Bf(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=If({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,n);const o=await this.options.onMutate?.(e,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{await this.#n.config.onError?.(i,e,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onError?.(i,e,this.state.context,n)}catch(o){Promise.reject(o)}try{await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,n)}catch(o){Promise.reject(o)}throw this.#r({type:"error",error:i}),i}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),V.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Bf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ey=class extends sn{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new xy({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=ar(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=ar(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ar(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=ar(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){V.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Ca(t,n))}findAll(e={}){return this.getAll().filter(t=>Ca(e,t))}notify(e){V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return V.batch(()=>Promise.all(e.map(t=>t.continue().catch(te))))}};function ar(e){return e.options.scope?.id}var Py=class extends sn{#e;#t=void 0;#n;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),Pr(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&Bt(t.mutationKey)!==Bt(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(e,t){return this.#s=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??Bf();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){V.batch(()=>{if(this.#s&&this.hasListeners()){const t=this.#t.variables,n=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,t,n,r)}catch(s){Promise.reject(s)}try{this.#s.onSettled?.(e.data,null,t,n,r)}catch(s){Promise.reject(s)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,t,n,r)}catch(s){Promise.reject(s)}try{this.#s.onSettled?.(void 0,e.error,t,n,r)}catch(s){Promise.reject(s)}}}this.listeners.forEach(t=>{t(this.#t)})})}},Sy=class extends sn{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??co(r,t);let i=this.get(s);return i||(i=new my({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){V.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Ia(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Ia(e,n)):t}notify(e){V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){V.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){V.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ig=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(e={}){this.#e=e.queryCache||new Sy,this.#t=e.mutationCache||new Ey,this.#n=e.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=lo.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Sr.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ot(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,o=iy(t,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return V.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;V.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return V.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=V.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(te).catch(te)}invalidateQueries(e,t={}){return V.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=V.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(te)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(te)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(ot(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(te).catch(te)}fetchInfiniteQuery(e){return e.behavior=Ma(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(te).catch(te)}ensureInfiniteQueryData(e){return e.behavior=Ma(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Sr.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(Bt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(r=>{Mn(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(Bt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Mn(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=co(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===uo&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};function Ay(e){return{mutationFn(t){return im(e,t)},mutationKey:["connect"]}}function Iy(e){return{mutationFn(t){return ym(e,t)},mutationKey:["disconnect"]}}function Cy(e){return{mutationFn(t){return wm(e,t)},mutationKey:["signMessage"]}}function $y(e){return{mutationFn(t){return xm(e,t)},mutationKey:["switchChain"]}}var Of=D.createContext(void 0),Tf=e=>{const t=D.useContext(Of);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Cg=({client:e,children:t})=>(D.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Nf.jsx(Of.Provider,{value:e,children:t})),Rf=D.createContext(!1),By=()=>D.useContext(Rf);Rf.Provider;function Oy(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ty=D.createContext(Oy()),Ry=()=>D.useContext(Ty),ky=(e,t,n)=>{const r=n?.state.error&&typeof e.throwOnError=="function"?fo(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},My=e=>{D.useEffect(()=>{e.clearReset()},[e])},Fy=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||fo(n,[e.error,r])),Ny=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},_y=(e,t)=>e.isLoading&&e.isFetching&&!t,jy=(e,t)=>e?.suspense&&t.isPending,Na=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function zy(e,t,n){const r=By(),s=Ry(),i=Tf(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const a=i.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",Ny(o),ky(o,s,a),My(s);const c=!i.getQueryCache().get(o.queryHash),[u]=D.useState(()=>new t(i,o)),f=u.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(l=>{const h=d?u.subscribe(V.batchCalls(l)):te;return u.updateResult(),h},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),D.useEffect(()=>{u.setOptions(o)},[o,u]),jy(o,f))throw Na(o,u,s);if(Fy({result:f,errorResetBoundary:s,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!$t&&_y(f,r)&&(c?Na(o,u,s):a?.promise)?.catch(te).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?f:u.trackResult(f)}function $g(e,t){return zy(e,yy)}function Hr(e,t){const n=Tf(),[r]=D.useState(()=>new Py(n,e));D.useEffect(()=>{r.setOptions(e)},[r,e]);const s=D.useSyncExternalStore(D.useCallback(o=>r.subscribe(V.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=D.useCallback((o,a)=>{r.mutate(o,a).catch(te)},[r]);if(s.error&&fo(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Uy(e={}){const t=ut(e);return D.useSyncExternalStore(n=>Zm(t,{onChange:n}),()=>ma(t),()=>ma(t))}function Ly(e={}){const t=ut(e);return D.useSyncExternalStore(n=>Sm(t,{onChange:n}),()=>ya(t),()=>ya(t))}function Bg(e={}){const{mutation:t}=e,n=ut(e),r=Ay(n),{mutate:s,mutateAsync:i,...o}=Hr({...t,...r});return D.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:Ly({config:n})}}function Dy(e={}){const t=ut(e);return D.useSyncExternalStore(n=>Pm(t,{onChange:n}),()=>oi(t),()=>oi(t))}function Og(e={}){const{mutation:t}=e,n=ut(e),r=Iy(n),{mutate:s,mutateAsync:i,...o}=Hr({...t,...r});return{...o,connectors:Dy({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function Tg(e={}){const{mutation:t}=e,n=ut(e),r=Cy(n),{mutate:s,mutateAsync:i,...o}=Hr({...t,...r});return{...o,signMessage:s,signMessageAsync:i}}function Rg(e={}){const{mutation:t}=e,n=ut(e),r=$y(n),{mutate:s,mutateAsync:i,...o}=Hr({...t,...r});return{...o,chains:Uy({config:n}),switchChain:s,switchChainAsync:i}}export{Tc as $,Ue as A,H as B,Er as C,qp as D,Fm as E,eo as F,Ze as G,K as H,dg as I,hg as J,_ as K,Ws as L,$e as M,vc as N,C as O,zt as P,Ig as Q,_f as R,Pt as S,zn as T,ee as U,ae as V,Pg as W,Ac as X,fl as Y,Fs as Z,Mc as _,Bg as a,ye as a0,pf as a1,Z as a2,Be as a3,Uh as a4,pg as a5,jr as a6,ji as a7,We as a8,Ru as a9,yg as aA,G as aa,Qe as ab,rn as ac,io as ad,fg as ae,mg as af,de as ag,Pe as ah,Mu as ai,Qt as aj,Ge as ak,bg as al,yt as am,ge as an,Le as ao,ll as ap,vt as aq,wg as ar,ug as as,eg as at,_n as au,Gy as av,Se as aw,nn as ax,km as ay,Cc as az,Og as b,vg as c,Rg as d,Eg as e,Tg as f,lt as g,$g as h,Tf as i,Hr as j,Nf as k,Hy as l,Sg as m,N as n,xg as o,gg as p,ao as q,D as r,Cg as s,Hb as t,Ag as u,Eu as v,xf as w,cg as x,ag as y,Ae as z};
